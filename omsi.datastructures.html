

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>datastructures Package &mdash; BASTet: Berkeley Analysis and Storage Toolkit Documentation devel documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="BASTet: Berkeley Analysis and Storage Toolkit Documentation devel documentation" href="index.html"/>
        <link rel="up" title="omsi Package" href="omsi.html"/>
        <link rel="next" title="metadata Package" href="omsi.datastructures.metadata.html"/>
        <link rel="prev" title="OMSI Dataformat Package" href="omsi.dataformat.omsi_file.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> BASTet: Berkeley Analysis and Storage Toolkit Documentation</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert_files.html">Converting and Files and Making them Accessible</a><ul>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#converting-an-msi-file-at-nersc">Converting an MSI file at NERSC</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#making-a-converted-file-accessible-to-openmsi-private">Making a converted file accessible to OpenMSI (Private)</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#changing-file-permissions">Changing file permissions:</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#converttoomsi-usage-and-options"><code class="docutils literal"><span class="pre">convertToOMSI</span></code>: Usage and Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_filereader.html">Integrating new file formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_filereader.html#developing-a-file-reader">Developing a file reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_filereader.html#integrating-the-file-reader-with-openmsi">Integrating the file reader with OpenMSI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_analysis.html">Developing a new Analysis for BASTet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#overview">Overview:</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#integrating-a-new-analysis-using-the-openmsi-analysis-template">Integrating a new Analysis using the OpenMSI Analysis Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#advanced-customizing-core-features">Advanced: Customizing core features</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#wrapping-a-function-the-quick-and-dirty-way">Wrapping a function: The quick-and-dirty way</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic_workflows.html">Defining and Executing Analysis Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#step-1-create-the-analysis-tasks">Step 1: Create the analysis tasks:</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#step-2-define-analysis-inputs">Step 2: Define analysis inputs:</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#step-3-execute">Step 3: Execute</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#example-normalizing-an-image">Example: Normalizing an image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic_workflows.html#workflow-tools">Workflow Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#workflow-scripts">Workflow Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="HDF5_format.html">OMSI Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format.html#data-layout">Data Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format.html#accessing-omsi-data-files">Accessing OMSI data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format.html#convert-mass-spectrometry-imaging-data-to-omsi-hdf5-format">Convert Mass Spectrometry Imaging Data to OMSI (HDF5) format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="HDF5_format_performance.html">HDF5 I/O Performance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#test-platforms">Test Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#test-cases">Test Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#dataset-layout">Dataset Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#chunking-part-1">Chunking: Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#chunking-part-2">Chunking: Part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#compression">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#local-scalability-multi-processing">Local Scalability: Multi-processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#discussion">Discussion</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="omsi.html">omsi Package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="omsi.html#subpackages">Subpackages</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">BASTet: Berkeley Analysis and Storage Toolkit Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="omsi.html">omsi Package</a> &raquo;</li>
      
    <li>datastructures Package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/omsi.datastructures.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="datastructures-package">
<h1>datastructures Package<a class="headerlink" href="#datastructures-package" title="Permalink to this headline">¶</a></h1>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#module-omsi.datastructures" title="omsi.datastructures"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures</span></code></a></td>
<td>Package with a collection of various data structures and related classes used throughout the software stack, e.g., for metadata, analysis parameter data, runtime information data etc.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="omsi.datastructures.metadata.html#module-omsi.datastructures.metadata" title="omsi.datastructures.metadata"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures.metadata</span></code></a></td>
<td>Package with metadata datastructures</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="omsi.datastructures.metadata.html#module-omsi.datastructures.metadata.metadata_data" title="omsi.datastructures.metadata.metadata_data"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures.metadata.metadata_data</span></code></a></td>
<td>Define infrastructure for describing metadata (in memory)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="omsi.datastructures.metadata.html#module-omsi.datastructures.metadata.metadata_ontologies" title="omsi.datastructures.metadata.metadata_ontologies"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures.metadata.metadata_ontologies</span></code></a></td>
<td>Define ontologies for metadata</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-omsi.datastructures.analysis_data" title="omsi.datastructures.analysis_data"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures.analysis_data</span></code></a></td>
<td>Helper module with data structures for managing analysis-related data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-omsi.datastructures.dependency_data" title="omsi.datastructures.dependency_data"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures.dependency_data</span></code></a></td>
<td>Define a dependency to another omsi object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-omsi.datastructures.run_info_data" title="omsi.datastructures.run_info_data"><code class="xref py py-obj docutils literal"><span class="pre">omsi.datastructures.run_info_data</span></code></a></td>
<td>Module with helper data structures for recording runtime provenance data</td>
</tr>
</tbody>
</table>
<div class="section" id="id1">
<h2><code class="xref py py-mod docutils literal"><span class="pre">datastructures</span></code> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-omsi.datastructures"></span><p>Package with a collection of various data structures and related classes used throughout the software stack,
e.g., for metadata, analysis parameter data, runtime information data etc.</p>
</div>
<div class="section" id="module-omsi.datastructures.analysis_data">
<span id="analysis-data-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">analysis_data</span></code> Module<a class="headerlink" href="#module-omsi.datastructures.analysis_data" title="Permalink to this headline">¶</a></h2>
<p>Helper module with data structures for managing analysis-related data.</p>
<dl class="class">
<dt id="omsi.datastructures.analysis_data.analysis_data">
<em class="property">class </em><code class="descclassname">omsi.datastructures.analysis_data.</code><code class="descname">analysis_data</code><span class="sig-paren">(</span><em>name='undefined'</em>, <em>data=None</em>, <em>dtype='float32'</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.analysis_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Define an output dataset for the analysis that should be written to the omsi HDF5 file</p>
<p>The class can be used like a dictionary but restricts the set of keys that can be used
to the following required keys which should be provided during initalization.</p>
<p><strong>Required Keyword Arguments</strong>:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The name for the dataset in the HDF5 format</li>
<li><strong>data</strong> &#8211; The numpy array to be written to HDF5. The data write function
omsi_file_experiment.create_analysis used for writing of the data to file can
in principal also handel other primitive data types by explicitly converting them
to numpy. However, in this case the dtype is determined based on the numpy conversion
and correct behavior is not guaranteed. I.e., even single scalars should be stored as
a 1D numpy array here. Default value is None which is mapped to np.empty( shape=(0) , dtype=dtype)
in __init__</li>
<li><strong>dtype</strong> &#8211; <p>The data type to be used during writing. For standard numpy data types this is just
the dtype  of the dataset, i.e., [&#8216;data&#8217;].dtype. Other allowed datatypes are:</p>
<ul>
<li>For string:  omsi_format.str_type (omsi_format is located in omsi.dataformat.omsi_file )</li>
<li>To generate data links: ana_hdf5link   (analysis_data)</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.datastructures.analysis_data.analysis_data.ana_hdf5link">
<code class="descname">ana_hdf5link</code><em class="property"> = -1</em><a class="headerlink" href="#omsi.datastructures.analysis_data.analysis_data.ana_hdf5link" title="Permalink to this definition">¶</a></dt>
<dd><p>Value used to indicate that a hard link to another dataset should be created when saving an analysis object</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.datastructures.analysis_data.data_dtypes">
<em class="property">class </em><code class="descclassname">omsi.datastructures.analysis_data.</code><code class="descname">data_dtypes</code><a class="headerlink" href="#omsi.datastructures.analysis_data.data_dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Class specifying basic function for specifying common
data types used as part of an analysis.</p>
<dl class="staticmethod">
<dt id="omsi.datastructures.analysis_data.data_dtypes.bool_type">
<em class="property">static </em><code class="descname">bool_type</code><span class="sig-paren">(</span><em>argument</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.data_dtypes.bool_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement conversion of boolean input parameters since
arparse (or bool, depending on the point of view), do not
handle bool as a type in an intuitive fashion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>argument</strong> &#8211; The argument to be parsed to a boolean</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The converted value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.datastructures.analysis_data.data_dtypes.get_dtypes">
<em class="property">static </em><code class="descname">get_dtypes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.data_dtypes.get_dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of available data type specifications</p>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.datastructures.analysis_data.data_dtypes.ndarray">
<em class="property">static </em><code class="descname">ndarray</code><span class="sig-paren">(</span><em>argument</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.data_dtypes.ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>This dtype may be used to indicate numpy ndarrays as
well as h5py arrays or omsi_dependencies</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>argument</strong> &#8211; The argument to be parsed to ndarray</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The converted ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.datastructures.analysis_data.parameter_data">
<em class="property">class </em><code class="descclassname">omsi.datastructures.analysis_data.</code><code class="descname">parameter_data</code><span class="sig-paren">(</span><em>name</em>, <em>help=''</em>, <em>dtype=None</em>, <em>required=False</em>, <em>default=None</em>, <em>choices=None</em>, <em>data=None</em>, <em>group=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Define a single input parameter for an analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><a class="reference internal" href="#omsi.datastructures.analysis_data.parameter_data.default_keys" title="omsi.datastructures.analysis_data.parameter_data.default_keys"><strong>default_keys</strong></a> &#8211; List of allowed dictionary keys:</td>
</tr>
</tbody>
</table>
<p>Required keys:</p>
<blockquote>
<div><ul class="simple">
<li><cite>name</cite> : The name of the parameter</li>
<li><cite>help</cite> : Help string describing the parameter</li>
<li><cite>type</cite> : Optional type. Default is None, indicating a dynamically typed dataset that the analysis will convert</li>
<li><cite>required</cite> : Boolean indicating whether the parameter is required (True) or optional (False). Default False</li>
<li><cite>default</cite> : Optional default value for the parameter. Default None.</li>
<li><cite>choices</cite> : Optional list of choices with allowed data values. Default None, indicating no choices set.</li>
<li><cite>data</cite> : The data assigned to the parameter. None by default.</li>
<li>&#8216;group&#8217; : Optional group string used to organize parameters. This may also be a dict of                    {&#8216;name&#8217;:&lt;group&gt;, &#8216;description&#8217;:&lt;description&gt;}</li>
</ul>
</div></blockquote>
<p>In the context of the argparse package the default keys have the following mapping:</p>
<blockquote>
<div><ul class="simple">
<li><cite>argparse.name</cite> = <cite>name</cite></li>
<li><cite>argparse.action</cite> &#8211;&gt; The action is constant and set to save value</li>
<li><cite>argparse.nargs</cite>  &#8211;&gt; Left as default</li>
<li><a href="#id2"><span class="problematic" id="id3">`</span></a>argparse.const   &#8211;&gt; Not used as action is always save value</li>
<li><cite>argparse.type</cite> = <cite>type</cite></li>
<li><cite>argparse.choices = `choices</cite></li>
<li><cite>argparse.required = `required</cite></li>
<li><cite>argparse.help = `help</cite></li>
<li><a href="#id4"><span class="problematic" id="id5">`</span></a>argparse.metavar  &#8211;&gt; Not used. Positional arguments are not allowed for analyses</li>
<li><cite>argparse.destination &#8211;&gt; Automatically determined by the `name</cite> of the parameter</li>
<li><cite>argparse.add_argument_group(...) &#8211;&gt; Automatically determined based on the required parameter and            the `group</cite> parameter if set.</li>
</ul>
</div></blockquote>
<p>Initialize a new parameter description.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; Required name for the parameter</li>
<li><strong>help</strong> &#8211; Required help string for the parameter</li>
<li><strong>dtype</strong> &#8211; Type argument. Default unicode.</li>
<li><strong>required</strong> &#8211; Boolean indicating whether the parameter is required (default=True)</li>
<li><strong>default</strong> &#8211; Optional default value for the parameter. Default None.</li>
<li><strong>choices</strong> &#8211; Optional list of choices with allowed data values. Default None, indicating no choices set.</li>
<li><strong>data</strong> &#8211; The data assigned to the parameter. None by default.</li>
<li><strong>group</strong> &#8211; The parameter group to be used. None by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.clear_data">
<code class="descname">clear_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.clear_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the currently assigned data.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new parameter_data object with the same data as stored in the current object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dependency_dict object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.data_ready">
<code class="descname">data_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.data_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>This function check if the data points to a dependency and if so, then check if the dependency can be
resolved or not</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.data_set">
<code class="descname">data_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.data_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a data has been assigned for the parameter.</p>
</dd></dl>

<dl class="attribute">
<dt id="omsi.datastructures.analysis_data.parameter_data.default_keys">
<code class="descname">default_keys</code><em class="property"> = ['name', 'default', 'dtype', 'choices', 'required', 'help', 'data', 'group']</em><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.default_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>List of allowed keys for the parameter dict.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.get_data_or_default">
<code class="descname">get_data_or_default</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.get_data_or_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data of the parameter if set, otherwise get the default value if available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The data to be used for the parameter.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">KeyError is raised in case that neither &#8216;default&#8217; nor &#8216;data&#8217; are available.
This should never be the case if the object was created properly.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.get_group_description">
<code class="descname">get_group_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.get_group_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the description for the group if available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String with the group description or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.get_group_name">
<code class="descname">get_group_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.get_group_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the group to be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String with the name of the group of None if not set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_data.is_dependency">
<code class="descname">is_dependency</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_data.is_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the parameter defines a dependency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether the parameter defines a dependency.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.datastructures.analysis_data.parameter_manager">
<em class="property">class </em><code class="descclassname">omsi.datastructures.analysis_data.</code><code class="descname">parameter_manager</code><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for objects that manage their own parameters.</p>
<p>Parameters are set and their values retrieved by name using dict-like slicing. Derived classes
may overwrite __getitem__ and __setitem__ to implement their own behavior but
we exepct that the functionality of the interface is preserved, i.e., others should
still be able set parameter value and retrieve values via dict slicing.</p>
<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.add_parameter">
<code class="descname">add_parameter</code><span class="sig-paren">(</span><em>name</em>, <em>help</em>, <em>dtype=&lt;type 'unicode'&gt;</em>, <em>required=False</em>, <em>default=None</em>, <em>choices=None</em>, <em>data=None</em>, <em>group=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.add_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new parameter for the analysis. This function is typically used in the constructor
of a derived analysis to specify the parameters of the analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; The name of the parameter</li>
<li><strong>help</strong> &#8211; Help string describing the parameter</li>
<li><strong>dtype</strong> &#8211; Optional type. Default is string.</li>
<li><strong>required</strong> &#8211; Boolean indicating whether the parameter is required (True) or optional (False). Default False.</li>
<li><strong>default</strong> &#8211; Optional default value for the parameter. Default None.</li>
<li><strong>choices</strong> &#8211; Optional list of choices with allowed data values. Default None, indicating no choices set.</li>
<li><strong>data</strong> &#8211; The data assigned to the parameter. None by default.</li>
<li><strong>group</strong> &#8211; Optional group string used to organize parameters. Default None, indicating that
parameters are automatically organized by driver class (e.g. in required and optional parameters)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">ValueError is raised if the parameter with the given name already exists.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.clear_parameter_data">
<code class="descname">clear_parameter_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.clear_parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the list of parameter data</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.define_missing_parameters">
<code class="descname">define_missing_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.define_missing_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set any required parameters that have not been defined to their respective default values.</p>
<p>This function may be overwritten in child classes to customize
the definition of default parameter values and to apply any
modifications (or checks) of parameters before the analysis is executed.
Any changes applied here will be recorded in the parameter of the analysis.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_all_dependency_data">
<code class="descname">get_all_dependency_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_all_dependency_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complete list of all direct dependencies to be written to the HDF5 file</p>
<p>NOTE: These are only the direct dependencies as specified by the analysis itself.
Use  get_all_dependency_data_recursive(..) to also get the indirect dependencies of
the analysis due to dependencies of the dependencies themselves.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of parameter_data objects that define dependencies.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_all_parameter_data">
<code class="descname">get_all_parameter_data</code><span class="sig-paren">(</span><em>exclude_dependencies=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_all_parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complete list of all parameter datasets to be written to the HDF5 file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exclude_dependencies</strong> &#8211; Boolean indicating whether we should exclude parameters
that define dependencies from the list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_num_dependency_data">
<code class="descname">get_num_dependency_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_num_dependency_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of dependencies defined as part of the parameters</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_num_parameter_data">
<code class="descname">get_num_parameter_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_num_parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of parameter datasets to be wirtten to the HDF5 file</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_parameter_data">
<code class="descname">get_parameter_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the index return the associated dataset to be written to the HDF5 file</p>
<dl class="docutils">
<dt>:param index <span class="classifier-delimiter">:</span> <span class="classifier">Return the index entry of the private member parameters. If a</span></dt>
<dd>string is given, then get_parameter_data_by_name(...) will be used instead.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">IndexError is raised when the index is out of bounds</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_parameter_data_by_name">
<code class="descname">get_parameter_data_by_name</code><span class="sig-paren">(</span><em>dataname</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_parameter_data_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the key name of the data return the associated parameter_data object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dataname</strong> &#8211; Name of the parameter requested from the parameters member.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parameter_data object or None if not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.get_parameter_names">
<code class="descname">get_parameter_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.get_parameter_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all parameter dataset names (including those that may define
dependencies.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all valid keys, i.e., a list of all parameter names.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of strings with all input parameter and output names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.analysis_data.parameter_manager.set_parameter_default_value">
<code class="descname">set_parameter_default_value</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.analysis_data.parameter_manager.set_parameter_default_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value of the parameter with the given name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Name of the parameter</li>
<li><strong>value</strong> &#8211; New value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">KeyError if parameter not found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.datastructures.dependency_data">
<span id="dependency-data-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">dependency_data</span></code> Module<a class="headerlink" href="#module-omsi.datastructures.dependency_data" title="Permalink to this headline">¶</a></h2>
<p>Define a dependency to another omsi object</p>
<dl class="class">
<dt id="omsi.datastructures.dependency_data.dependency_dict">
<em class="property">class </em><code class="descclassname">omsi.datastructures.dependency_data.</code><code class="descname">dependency_dict</code><span class="sig-paren">(</span><em>param_name=None</em>, <em>link_name=None</em>, <em>omsi_object=None</em>, <em>selection=None</em>, <em>dataname=None</em>, <em>help=None</em>, <em>dependency_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.dependency_data.dependency_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Define a dependency to another omsi file-based data object or in-memory analysis_base object</p>
<p><strong>Required Keyword Arguments</strong>:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>param_name</strong> &#8211; The name of the parameter that has the depency</li>
<li><strong>link_name</strong> &#8211; The name of for the link to be created in the HDF5 file.</li>
<li><strong>omsi_object</strong> &#8211; The object to which a link should be established to. This
must be either an h5py.Dataset or the omsi_file_analysis or omsi_file_msidata
or any of the other omsi_file API  interface ojects.</li>
<li><strong>selection</strong> &#8211; Optional string type parameter indicating a python selection for the dependency</li>
<li><strong>dataname</strong> &#8211; String indicating the dataset within the omsi_object. If the omsi_object
is an h5py object within a managed Group, then the omsi_object is automatically split
up into the parent object and dataname.</li>
<li><strong>_data</strong> &#8211; Private key used to store the data associated with the dependency object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Optional Keyword arguments</strong>:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>dependency_type</strong> &#8211; The type of the dependency being modeled. If not defined then
the default value of &#8216;parameter&#8217; is assumed.</td>
</tr>
</tbody>
</table>
<p>Initialize the allowed set of keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>param_name</strong> &#8211; The name of the parameter that has the dependency</li>
<li><strong>link_name</strong> &#8211; The name of for the link to be created in the HDF5 file.</li>
<li><strong>omsi_object</strong> &#8211; The object to which a link should be established to. This
must be either an h5py.Dataset or the omsi_file_analysis or omsi_file_msidata
or any of the other omsi_file API  interface objects.</li>
<li><strong>selection</strong> &#8211; Optional string type parameter indicating a python selection for the dependency</li>
<li><strong>dataname</strong> &#8211; String indicating the dataset within the omsi_object. If the omsi_object
is an h5py object within a managed Group, then the omsi_object is automatically split
up into the parent object and dataname.</li>
<li><strong>help</strong> &#8211; Optional string describing the object</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.datastructures.dependency_data.dependency_dict.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.dependency_data.dependency_dict.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new dependency_dict object with the same data as stored in the current object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dependency_dict object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omsi.datastructures.dependency_data.dependency_dict.dependency_types">
<code class="descname">dependency_types</code><em class="property"> = {'subset': 'subset', 'undefined': None, 'contains': 'contains', 'link': 'link', 'parameter': 'parameter', 'co_modality': 'co_modality'}</em><a class="headerlink" href="#omsi.datastructures.dependency_data.dependency_dict.dependency_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omsi.datastructures.dependency_data.dependency_dict.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.dependency_data.dependency_dict.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data associated with the dependency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If a selection is applied and the dependency object supports
array data load (e.g., h5py.Dataset, omsi_file_msidata), then
the selected data will be loaded and returned as numpy array.
Otherwise the [&#8216;omsi_object&#8217;] is returned.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.datastructures.run_info_data">
<span id="run-info-data-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">run_info_data</span></code> Module<a class="headerlink" href="#module-omsi.datastructures.run_info_data" title="Permalink to this headline">¶</a></h2>
<p>Module with helper data structures for recording runtime provenance data</p>
<dl class="class">
<dt id="omsi.datastructures.run_info_data.run_info_dict">
<em class="property">class </em><code class="descclassname">omsi.datastructures.run_info_data.</code><code class="descname">run_info_dict</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Simple dictionary class for collecting runtime information</p>
<p>The typical use is as follows:</p>
<p>&gt;&gt; my_run_info = run_info_dict()
&gt;&gt; my_run_info(my_function)(my_parameters)</p>
<p>With this, all runtime information is automatically collected in my_run_info.
We can enable time-and-usage and memory profiling simply by calling
enable_profile_time_and_usage(...) or  enable_profile_memory(...), respectively,
before we run our function.</p>
<p>We can also use the data structure directly and control the population ourselves,
however, memory profiling is not supported by default in this case but we need to
set and run the memory profiler ourselves, since memory_profiler expects that it
can wrap the function</p>
<dl class="attribute">
<dt id="omsi.datastructures.run_info_data.run_info_dict.DEFAULT_TIME_FORMAT">
<code class="descname">DEFAULT_TIME_FORMAT</code><em class="property"> = '%Y-%m-%d %H:%M:%S.%f'</em><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.DEFAULT_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.clean_up">
<code class="descname">clean_up</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.clean_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the runinfo object. In particular remove empty keys that
either recorded None or recorded just an empty string.</p>
<p>This function may be overwritten to also do clean-up needed
due to additional custom runtime instrumentation.</p>
<p>When overwriting this function we should call super(..., self).runinfo_clean_up()
at the end of the function to ensure that the runinfo dictionary
is clean, i.e., does not contain any empty entries.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the dictionary and other internal parameters</p>
<p>Side Effects</p>
<blockquote>
<div><ul class="simple">
<li>Remove all key/value pairs from the dict</li>
<li>Set self.__time_and_use_profiler to None</li>
<li>Set self.__memory_profiler to None</li>
<li>Set self.__profile_memory to False if invalid (i.e, if set to True but memory profiling is unavailable)</li>
<li>Set self.__profile_time_and_usage to False if invalid (i.e., if set to True but profiling is unavailable)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.enable_profile_memory">
<code class="descname">enable_profile_memory</code><span class="sig-paren">(</span><em>enable=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.enable_profile_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/disable profiling of memory usage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>enable</strong> &#8211; boolean to enable (True) or disable (False) memory profiling</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.enable_profile_time_and_usage">
<code class="descname">enable_profile_time_and_usage</code><span class="sig-paren">(</span><em>enable=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.enable_profile_time_and_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/disable time and usage profiling</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>enable</strong> &#8211; boolean to enable (True) or disable (False) time and usage profiling</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.gather">
<code class="descname">gather</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple helper function to gather the runtime information&#8212;that has been collected on
multiple processes when running using MPI&#8212;on a single root process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If we have more than one processes then this function returns a
dictionary with the same keys as usual for the run_info but the
values are now lists with one entry per mpi processes. If we only have
a single process, then the run_info object will be returned without
changes. NOTE: Similar to mpi gather, the function only collects
information on the root. All other processes will return just their
own private runtime information.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.get_profile_memory">
<code class="descname">get_profile_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.get_profile_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether profiling of memory usage is enabled</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether memory profiling is enabled</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.get_profile_stats_object">
<code class="descname">get_profile_stats_object</code><span class="sig-paren">(</span><em>consolidate=True</em>, <em>stream=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.get_profile_stats_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the execution profile of the execute_analysis(..) function get
<code class="docutils literal"><span class="pre">pstats.Stats</span></code> object to help with the interpretation of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>consolidate</strong> &#8211; Boolean flag indicating whether multiple stats (e.g., from multiple cores)
should be consolidated into a single stats object. Default is True.</li>
<li><strong>stream</strong> &#8211; The optional stream parameter to be used fo the pstats.Stats object.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A single pstats.Stats object if consolidate is True. Otherwise the function
returns a list of pstats.Stats objects, one per recorded statistic. None is returned
in case that the stats objects cannot be created or no profiling data is available.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.get_profile_time_and_usage">
<code class="descname">get_profile_time_and_usage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.get_profile_time_and_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether time and usage profiling is enabled</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether time and usage profiling is enabled</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.record_postexecute">
<code class="descname">record_postexecute</code><span class="sig-paren">(</span><em>execution_time=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.record_postexecute" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used to record runtime information after the task we want to track is comleted, e.g.
the <cite>execute_analysis(...)</cite> function of a standard analysis.</p>
<p>The function may be overwritten in child classes to add recording of
additional runtime information.</p>
<p>When overwriting the function we should call super(...,self).runinfo_record_postexecute(execution_time)
in the custom version to ensure that the execution and end_time are properly
recorded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>execution_time</strong> &#8211; The total time it took to execute the analysis. May be None, in which
case the function will attempt to compute the execution time based on the start_time
(if available) and the the current time.</li>
<li><strong>comm</strong> &#8211; Used for logging only. The MPI communicator to be used. Default value is None,
in which case MPI.COMM_WORLD is used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.datastructures.run_info_data.run_info_dict.record_preexecute">
<code class="descname">record_preexecute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.record_preexecute" title="Permalink to this definition">¶</a></dt>
<dd><p>Record basic runtime information in this dict before the exeuction is started.</p>
<p>Function used to record runtime information prior to executing the process we want to track, e.g.,
the <cite>execute_analysis(...)</cite> of a standard analysis.</p>
<p>The function may be overwritten in child classes to add recording of
additional runtime information. All runtime data should be recorded in the
main dict (i.e, self). This ensures in the case of standard analysis that
the data is stored in the HDF5 file. Other data should be stored in separate
variables that we may add to the object.</p>
<p>When overwriting the function we should typically call super(...,self).runinfo_record_pretexecute()
last in the custom version to ensure that the start_time is properly recorded right before
the execution of the analysis.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.datastructures.run_info_data.run_info_dict.string_to_structime">
<em class="property">static </em><code class="descname">string_to_structime</code><span class="sig-paren">(</span><em>time_string</em>, <em>time_format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.string_to_structime" title="Permalink to this definition">¶</a></dt>
<dd><p>Covert a time string to a time.struct_time using time.strptime</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time_string</strong> &#8211; String with the time, e.g, with the start time of a program.</li>
<li><strong>time_format</strong> &#8211; The time format to be used or None in which case run_info_dict.DEFAULT_TIME_FORMAT
will be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.datastructures.run_info_data.run_info_dict.string_to_time">
<em class="property">static </em><code class="descname">string_to_time</code><span class="sig-paren">(</span><em>time_string</em>, <em>time_format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.datastructures.run_info_data.run_info_dict.string_to_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a time string to local time object using time.mktime.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time_string</strong> &#8211; String with the time, e.g, with the start time of a program.</li>
<li><strong>time_format</strong> &#8211; The time format to be used or None in which case run_info_dict.DEFAULT_TIME_FORMAT
will be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="omsi.datastructures.metadata.html">metadata Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omsi.datastructures.metadata.html#id1"><code class="docutils literal"><span class="pre">metadata</span></code> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="omsi.datastructures.metadata.html#module-omsi.datastructures.metadata.metadata_data"><code class="docutils literal"><span class="pre">metadata_data</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="omsi.datastructures.metadata.html#module-omsi.datastructures.metadata.metadata_ontologies"><code class="docutils literal"><span class="pre">metadata_ontologies</span></code> Module</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="omsi.datastructures.metadata.html" class="btn btn-neutral float-right" title="metadata Package">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="omsi.dataformat.omsi_file.html" class="btn btn-neutral" title="OMSI Dataformat Package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Oliver Rübel and Ben Bowen.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'devel',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>