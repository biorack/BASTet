

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OMSI Dataformat Package &mdash; BASTet: Berkeley Analysis and Storage Toolkit Documentation devel documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="BASTet: Berkeley Analysis and Storage Toolkit Documentation devel documentation" href="index.html"/>
        <link rel="up" title="dataformat Package" href="omsi.dataformat.html"/>
        <link rel="next" title="datastructures Package" href="omsi.datastructures.html"/>
        <link rel="prev" title="dataformat Package" href="omsi.dataformat.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> BASTet: Berkeley Analysis and Storage Toolkit Documentation</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert_files.html">Converting Files at NERSC and Making them Accessible</a><ul>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#making-a-converted-file-accessible-to-openmsi-private">Making a converted file accessible to OpenMSI (Private)</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#changing-file-permissions">Changing file permissions:</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_files.html#converttoomsi-usage-and-options"><code class="docutils literal"><span class="pre">convertToOMSI</span></code>: Usage and Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_filereader.html">Integrating new file formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_filereader.html#developing-a-file-reader">Developing a file reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_filereader.html#integrating-the-file-reader-with-openmsi">Integrating the file reader with OpenMSI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_analysis.html">Developing a new Analysis for BASTet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#wrapping-a-function-the-quick-and-dirty-way">Wrapping a function: The quick-and-dirty way</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#writing-a-new-analysis-class-for-bastet-part-1-overview">Writing a new analysis class for BASTet &#8211; Part 1: Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#writing-a-new-analysis-class-for-bastet-part-2-analysis-template">Writing a new analysis class for BASTet &#8211; Part 2: Analysis Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_analysis.html#writing-a-new-analysis-class-for-bastet-part-3-customizing-core-features">Writing a new analysis class for BASTet &#8211; Part 3: Customizing core features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic_workflows.html">Defining and Executing Analysis Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#step-1-create-the-analysis-tasks">Step 1: Create the analysis tasks:</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#step-2-define-analysis-inputs">Step 2: Define analysis inputs:</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#step-3-execute">Step 3: Execute</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#example-normalizing-an-image">Example: Normalizing an image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic_workflows.html#workflow-tools">Workflow Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basic_workflows.html#workflow-scripts">Workflow Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer_notes.html">Developer Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer_notes.html#building-the-online-documentation">Building the online documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="HDF5_format.html">OMSI Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format.html#data-layout">Data Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format.html#accessing-omsi-data-files">Accessing OMSI data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format.html#convert-mass-spectrometry-imaging-data-to-omsi-hdf5-format">Convert Mass Spectrometry Imaging Data to OMSI (HDF5) format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="HDF5_format_performance.html">HDF5 I/O Performance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#test-platforms">Test Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#test-cases">Test Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#dataset-layout">Dataset Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#chunking-part-1">Chunking: Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#chunking-part-2">Chunking: Part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#compression">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#local-scalability-multi-processing">Local Scalability: Multi-processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDF5_format_performance.html#discussion">Discussion</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="omsi.html">omsi Package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="omsi.html#subpackages">Subpackages</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">BASTet: Berkeley Analysis and Storage Toolkit Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="omsi.html">omsi Package</a> &raquo;</li>
      
          <li><a href="omsi.dataformat.html">dataformat Package</a> &raquo;</li>
      
    <li>OMSI Dataformat Package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/omsi.dataformat.omsi_file.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="omsi-dataformat-package">
<h1>OMSI Dataformat Package<a class="headerlink" href="#omsi-dataformat-package" title="Permalink to this headline">¶</a></h1>
<p>Main module for specification of the OpenMSI HDF5-based data format.
The module contains various sub-modules, with the main goal to
organize different categories of data.</p>
<p>Naming conventions for objects inside the HDF5 file are defined
in the <cite>omsi_file.format</cite> module. These are used by the manager
API classes to then implement the specific format.</p>
<p>The basic idea behind the design of the OpenMSI file format is the
concept of managed objects. Managed objects are objects in an HDF5 file
(usually HDF5 Groups &#8211;similar to directories just within a file)
that have a corresponding interface class in the API. These
classes in the API always start with the prefix <cite>omsi_file_</cite> and
inherit from <cite>omsi_file.common.omsi_file_common</cite>.</p>
<p>To make it easy to nest different objects, we also have the concept
of manager helper classes, which encapsulate common functionality
for creation and interaction with the objects when they are
contained in another object. Manager helper classes follow the
following naming convection <cite>omsi_&lt;objectname&gt;_manager</cite>, where
objectname is name of the object to be managed. E.g,
<cite>omsi_instrument_manager</cite> is used to help place instrument
groups inside another managed object. This is done by inheriting
from the given manager helper class.</p>
<p>This means, multiple inheritance is used in order to nest other
managed modules with other interfaces. This allows us to easily
encapsulate common interaction features in centralized locations
and construct more complex containers simply via inheritance.</p>
<p>The user of multiple inheritance and <cite>super</cite> can be tricky in python.
To simplify the use and ensure stability we use the following conventions:</p>
<blockquote>
<div><ul class="simple">
<li>All <cite>omsi_file_*</cite> manager classes must except the h5py.Group object
they manage as input and call <cite>super(..)__init__(managed_group)</cite>
with the managed group as parameter in their <cite>__init__</cite>.</li>
<li>All <cite>omsi_&lt;objectname&gt;_manager</cite> manager helper classes must except
the h5py.Group that contains the object(s) that should be managed
using the helper class as input and call <cite>super(..)__init__(managed_group)</cite>
with the managed group as parameter in their in <cite>__init__</cite>.</li>
<li>All <cite>omsi_file_*</cite> manager classes must inherit from <cite>omsi_file.common.omsi_file_common</cite></li>
<li>All <cite>omsi_&lt;objectname&gt;_manager</cite> manager helper classes must inherit from <cite>object</cite>
(i.e., we use new-style classes).</li>
</ul>
</div></blockquote>
<div class="section" id="module-omsi.dataformat.omsi_file">
<span id="omsi-file-package"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">omsi_file</span></code> Package<a class="headerlink" href="#module-omsi.dataformat.omsi_file" title="Permalink to this headline">¶</a></h2>
<p>Module for specification of the OpenMSI file API.</p>
</div>
<div class="section" id="module-omsi.dataformat.omsi_file.format">
<span id="format-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">format</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.format" title="Permalink to this headline">¶</a></h2>
<p>This module defines the basic format for storing mass spectrometry imaging data,
metadata, and analysis in HDF5 in compliance with OpenMSI file format.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_analysis</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification for storing analysis related data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_groupname"><strong>analysis_groupname</strong></a> &#8211; <cite>analysis_</cite> : Group with additional analysis results</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_identifier" title="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_identifier"><strong>analysis_identifier</strong></a> &#8211; <cite>analysis_identifier</cite> : Identifier for the analysis to enable look-up by analysis id</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_type" title="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_type"><strong>analysis_type</strong></a> &#8211; <cite>analysis_type</cite> : Dataset used to store the analysis type descriptor string</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_parameter_group" title="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_parameter_group"><strong>analysis_parameter_group</strong></a> &#8211; Group for storing analysis parameters. Dependent parameters are stored
separately using a omsi_format_dependencies group.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_runinfo_group" title="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_runinfo_group"><strong>analysis_runinfo_group</strong></a> &#8211; Group for storing run information, e.g., where was the analysis run, how long
did it take etc.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_groupname">
<code class="descname">analysis_groupname</code><em class="property"> = 'analysis_'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_identifier">
<code class="descname">analysis_identifier</code><em class="property"> = 'analysis_identifier'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_identifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_parameter_group">
<code class="descname">analysis_parameter_group</code><em class="property"> = 'parameter'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_parameter_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_parameter_help_attr">
<code class="descname">analysis_parameter_help_attr</code><em class="property"> = 'help'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_parameter_help_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_runinfo_group">
<code class="descname">analysis_runinfo_group</code><em class="property"> = 'runinfo'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_runinfo_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_type">
<code class="descname">analysis_type</code><em class="property"> = 'analysis_type'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.analysis_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_analysis.current_version">
<code class="descname">current_version</code><em class="property"> = '0.2'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_analysis.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_common</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Specification of common attributes, and names for the file format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common.str_type" title="omsi.dataformat.omsi_file.format.omsi_format_common.str_type"><strong>str_type</strong></a> &#8211; <cite>str_type  = h5py.new_vlen(str)</cite> : Datatype used for storing strings in hdf5</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common.type_attribute" title="omsi.dataformat.omsi_file.format.omsi_format_common.type_attribute"><strong>type_attribute</strong></a> &#8211; Name of the optional type attribute indicating which omsi_file_* class
should be used to interact with a given group.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common.str_type">
<code class="descname">str_type</code><em class="property"> = dtype('O')</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common.str_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common.str_type_unicode">
<code class="descname">str_type_unicode</code><em class="property"> = True</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common.str_type_unicode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common.timestamp_attribute">
<code class="descname">timestamp_attribute</code><em class="property"> = 'timestamp'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common.timestamp_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common.type_attribute">
<code class="descname">type_attribute</code><em class="property"> = 'omsi_type'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common.type_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_common.version_attribute">
<code class="descname">version_attribute</code><em class="property"> = 'version'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_common.version_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_data">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_data</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification for storing raw data information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_data.data_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_data.data_groupname"><strong>data_groupname</strong></a> &#8211; The base name for the hdf5 group containing the imaging data</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_data.dataset_name" title="omsi.dataformat.omsi_file.format.omsi_format_data.dataset_name"><strong>dataset_name</strong></a> &#8211; The base name for storing raw data. In the case of MSI data, this is                         the 3D data cube stored as 3D (full_cube), 2D (partial_cube) or                         1D (partial_spectra) dataset, depending on the format_type.</li>
<li><strong>data_dependency_group</strong> &#8211; Optional group for storing data dependencies</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_data.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_data.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_data.data_groupname">
<code class="descname">data_groupname</code><em class="property"> = 'data_'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_data.data_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_data.dataset_name">
<code class="descname">dataset_name</code><em class="property"> = 'data_'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_data.dataset_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencies">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_dependencies</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification for the management of a collection of dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencies.dependencies_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_dependencies.dependencies_groupname"><strong>dependencies_groupname</strong></a> &#8211; <cite>dependency</cite> : Name of the group the dependencies are stored in.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencies.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencies.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencies.dependencies_groupname">
<code class="descname">dependencies_groupname</code><em class="property"> = 'dependency'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencies.dependencies_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_dependencydata</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification for the storage of a single dependency.</p>
<p>This type of group does not have specific name to allow the user to specify a specific link_name
to ease retrieval of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_parameter" title="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_parameter"><strong>dependency_parameter</strong></a> &#8211; <cite>parameter_name</cite> : Name of string dataset used to store the name of
the dependent parameter</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_selection" title="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_selection"><strong>dependency_selection</strong></a> &#8211; <cite>selection</cite> : Name of the string dataset used to store a selection string if needed.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_mainname" title="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_mainname"><strong>dependency_mainname</strong></a> &#8211; <cite>main_name</cite> : Name of the string dataset used to store the description of the
link to the object that this depends on.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_datasetname" title="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_datasetname"><strong>dependency_datasetname</strong></a> &#8211; &#8216;data_name` : Name fo the string dataset used to store the name of dataset
within the mainname highlevel object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.current_version">
<code class="descname">current_version</code><em class="property"> = '0.3'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_datasetname">
<code class="descname">dependency_datasetname</code><em class="property"> = 'data_name'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_datasetname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_mainname">
<code class="descname">dependency_mainname</code><em class="property"> = 'main_name'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_mainname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_parameter">
<code class="descname">dependency_parameter</code><em class="property"> = 'parameter_name'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_parameter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_parameter_help_attr">
<code class="descname">dependency_parameter_help_attr</code><em class="property"> = 'help'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_parameter_help_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_selection">
<code class="descname">dependency_selection</code><em class="property"> = 'selection'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_typename">
<code class="descname">dependency_typename</code><em class="property"> = 'dependency_type'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_dependencydata.dependency_typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_experiment">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_experiment</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification of file format specific name conventions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_groupname"><strong>exp_groupname</strong></a> &#8211; <cite>entry_</cite> : The base name for a group containing data about an experiment</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_identifier_name" title="omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_identifier_name"><strong>exp_identifier_name</strong></a> &#8211; <cite>experiment_identifier</cite> : The identifier dataset for an experiment</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_experiment.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_experiment.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_groupname">
<code class="descname">exp_groupname</code><em class="property"> = 'entry_'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_identifier_name">
<code class="descname">exp_identifier_name</code><em class="property"> = 'experiment_identifier'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_experiment.exp_identifier_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_file">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_file</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification of main-file related specific name conventions</p>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_file.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_file.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_instrument">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_instrument</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection" title="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_metadata_collection</span></code></a></p>
<p>Specification for storing instrument related information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_groupname"><strong>instrument_groupname</strong></a> &#8211; <cite>instrument</cite>  : Group with information about the intrument used</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_mz_name" title="omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_mz_name"><strong>instrument_mz_name</strong></a> &#8211; <cite>mz</cite> : Name of the dataset for the intrument&#8217;s mz data values</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_name" title="omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_name"><strong>instrument_name</strong></a> &#8211; <cite>name</cite> : The dataset with the name of the instrument</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_instrument.current_version">
<code class="descname">current_version</code><em class="property"> = '0.2'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_groupname">
<code class="descname">instrument_groupname</code><em class="property"> = 'instrument'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_mz_name">
<code class="descname">instrument_mz_name</code><em class="property"> = 'mz'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_mz_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_name">
<code class="descname">instrument_name</code><em class="property"> = 'name'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_instrument.instrument_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_metadata_collection</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_common" title="omsi.dataformat.omsi_file.format.omsi_format_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_common</span></code></a></p>
<p>Specification of the basic format for a general-purpose metadata storage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.metadata_collection_groupname_default" title="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.metadata_collection_groupname_default"><strong>metadata_collection_groupname_default</strong></a> &#8211; Default name for the group where
the collection of metadata is stored.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.description_value_attribute" title="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.description_value_attribute"><strong>description_value_attribute</strong></a> &#8211; The attribute to be associated with each
metadata value describing the content in a human-readable form</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.unit_value_attribute" title="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.unit_value_attribute"><strong>unit_value_attribute</strong></a> &#8211; The attribute to be associated with each metatdata
value describing the unit</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.ontology_value_attribute" title="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.ontology_value_attribute"><strong>ontology_value_attribute</strong></a> &#8211; Optional ontology associated with a metadata value</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.description_value_attribute">
<code class="descname">description_value_attribute</code><em class="property"> = 'description'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.description_value_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.metadata_collection_groupname_default">
<code class="descname">metadata_collection_groupname_default</code><em class="property"> = 'metadata'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.metadata_collection_groupname_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.ontology_value_attribute">
<code class="descname">ontology_value_attribute</code><em class="property"> = 'ontology'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.ontology_value_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.unit_value_attribute">
<code class="descname">unit_value_attribute</code><em class="property"> = 'unit'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection.unit_value_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_methods">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_methods</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_metadata_collection" title="omsi.dataformat.omsi_file.format.omsi_format_metadata_collection"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_metadata_collection</span></code></a></p>
<p>Specification of the basic format for storing method-related information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.methods_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_methods.methods_groupname"><strong>methods_groupname</strong></a> &#8211; <cite>methods</cite> : The group storing all the information about the method</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.methods_old_groupname" title="omsi.dataformat.omsi_file.format.omsi_format_methods.methods_old_groupname"><strong>methods_old_groupname</strong></a> &#8211; <cite>method</cite> : The group object was refactored to methods. To ensure that old
files can still be read, this variable was added and is checked as well if needed.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.methods_name" title="omsi.dataformat.omsi_file.format.omsi_format_methods.methods_name"><strong>methods_name</strong></a> &#8211; <cite>name</cite> : The dataset with the name of the method</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_methods.current_version">
<code class="descname">current_version</code><em class="property"> = '0.3'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_methods.methods_groupname">
<code class="descname">methods_groupname</code><em class="property"> = 'methods'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.methods_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_methods.methods_name">
<code class="descname">methods_name</code><em class="property"> = 'name'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.methods_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_methods.methods_old_groupname">
<code class="descname">methods_old_groupname</code><em class="property"> = 'sample'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_methods.methods_old_groupname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_msidata</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_data" title="omsi.dataformat.omsi_file.format.omsi_format_data"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_data</span></code></a></p>
<p>Specification of the basic format for storing an MSI dataset consisting of a complete 3D cube
(or a 3D cube completed with 0s for missing data)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata.format_types" title="omsi.dataformat.omsi_file.format.omsi_format_msidata.format_types"><strong>format_types</strong></a> &#8211; Data layout types supported for storing MSI data.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata.mzdata_name" title="omsi.dataformat.omsi_file.format.omsi_format_msidata.mzdata_name"><strong>mzdata_name</strong></a> &#8211; Global mz axis for the MSI data cube.</li>
<li><a class="reference internal" href="#module-omsi.dataformat.omsi_file.format" title="omsi.dataformat.omsi_file.format"><strong>format</strong></a> &#8211; Dataset in HDF5 with the format_type descriptor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata.current_version">
<code class="descname">current_version</code><em class="property"> = '0.1'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata.current_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata.format_name">
<code class="descname">format_name</code><em class="property"> = 'format'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata.format_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata.format_types">
<code class="descname">format_types</code><em class="property"> = {'full_cube': 1, 'partial_cube': 2, 'partial_spectra': 3}</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata.format_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata.mzdata_name">
<code class="descname">mzdata_name</code><em class="property"> = 'mz'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata.mzdata_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_msidata_partial_cube</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata" title="omsi.dataformat.omsi_file.format.omsi_format_msidata"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_msidata</span></code></a></p>
<p>Specification of the basic format for storing an MSI datasets that define a partial
cube with full spectra</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.xy_index_name" title="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.xy_index_name"><strong>xy_index_name</strong></a> &#8211; 2D dataset indicating for each spectrum its start location in the the main dataset</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.inv_xy_index_name" title="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.inv_xy_index_name"><strong>inv_xy_index_name</strong></a> &#8211; 2D dataset with n rows and 2 columns indicating for each spectrum i the (x,y)
pixel index the spectrum belongs to.  This index is stored for convenience purposes but
is not actually needed for data access.</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.shape_name" title="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.shape_name"><strong>shape_name</strong></a> &#8211; Simple [3] indicating the true image size in x,y,mz</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.inv_xy_index_name">
<code class="descname">inv_xy_index_name</code><em class="property"> = 'inv_xy_index'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.inv_xy_index_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.shape_name">
<code class="descname">shape_name</code><em class="property"> = 'shape'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.shape_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.xy_index_name">
<code class="descname">xy_index_name</code><em class="property"> = 'xyindex'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube.xy_index_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.format.</code><code class="descname">omsi_format_msidata_partial_spectra</code><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube" title="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_cube</span></code></a></p>
<p>Specification of the basic format for storing an MSI dataset of a full or
partial cube with partial spectra</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.mz_index_name" title="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.mz_index_name"><strong>mz_index_name</strong></a> &#8211; 1D dataset of the same size as the spectrum data, indicating the indices
into the global m/z list</li>
<li><a class="reference internal" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.xy_index_end_name" title="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.xy_index_end_name"><strong>xy_index_end_name</strong></a> &#8211; 2D dataset indicating for each spectrum its end location (index not included)
in the the main dataset</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.mz_index_name">
<code class="descname">mz_index_name</code><em class="property"> = 'mz_index'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.mz_index_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.xy_index_end_name">
<code class="descname">xy_index_end_name</code><em class="property"> = 'xyindexend'</em><a class="headerlink" href="#omsi.dataformat.omsi_file.format.omsi_format_msidata_partial_spectra.xy_index_end_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.common">
<span id="common-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">common</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.common" title="Permalink to this headline">¶</a></h2>
<p>Module for common data format classes and functionality.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.common.</code><code class="descname">omsi_file_common</code><span class="sig-paren">(</span><em>managed_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for definition of file format modules for the OpenMSI data format.</p>
<p><strong>Use of super()</strong></p>
<p>This class inherits only from object and calls super in the __init__ without
parameters. In the standard design pattern of the <cite>omsi.dataformat.omsi_file module</cite>,
it is, therefore, the last class we inherit from in the case of multiple inheritance.</p>
<p>Multiple inheritance is used in <cite>omsi.dataformat.omsi_file module</cite> when a class contains
other managed objects and uses the manager classes, e.g, omsi_instrument_mangager etc.
to get all the features needed to manage those objects.</p>
<p>All child classes of omsi_file_common also call super(..).__init__(manager_group) but
using a single input parameter indicating the manager h5py.Group object that
contains the given object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>managed_group</strong> &#8211; The h5py.Group object managed by the class</li>
<li><strong>name</strong> &#8211; The path to the object in the hdf5 file. Same as managed_group.name</li>
<li><strong>file</strong> &#8211; The h5py.File object the managed_group is associated with. Same as managed_group.file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.create_path_string">
<em class="property">static </em><code class="descname">create_path_string</code><span class="sig-paren">(</span><em>filename</em>, <em>objectname</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.create_path_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the name of the file and the object path within the file,
create a string describing the external reference to the datra</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; The full or relative path to the file</li>
<li><strong>objectname</strong> &#8211; The object path in the HDF5 file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">String describing the path to the object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.get_h5py_object">
<em class="property">classmethod </em><code class="descname">get_h5py_object</code><span class="sig-paren">(</span><em>omsi_object</em>, <em>resolve_dependencies=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.get_h5py_object" title="Permalink to this definition">¶</a></dt>
<dd><p>This static method is a convenience function used to retrieve the corresponding h5py
interface object for any omsi file API object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>omsi_object</strong> &#8211; omsi file API input object for which the corresponding h5py.Group, h5py.File, or
h5py.Dataset object should be retrieved. The omsi_object input may itself also be
a h5py.Group, h5py.File, or h5py.Dataset, in which case omsi_object itself is returned
by the function.</li>
<li><strong>resolve_dependencies</strong> &#8211; Set to True if omsi_file_dependencydata objects should be resolved to retrieve
the dependent object the dependency is pointing to. Dependencies are resolved recursively,
i.e., if a dependency points to another dependency then that one will be resolved as well.
Default value is False, i.e., the omis_file_dependency object itself is returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">h5py.Group, h5py.File, or h5py.Dataset corresponding to the given omsi_object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises ValueError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">A ValueError is raised in case that an unsupported omsi_object object is given, i.e.,
the input object is not a omsi_file API object nor a h5py Group, File, or
Dataset object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.get_managed_group">
<code class="descname">get_managed_group</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.get_managed_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the h5py object with the analysis data.</p>
<p>The returned object can be used to read data directly from the HDF5 file.
Write operations to the analysis group can be performed only if the
associated omsi_file was opened with write permissions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object for the analysis group.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.get_num_items">
<em class="property">classmethod </em><code class="descname">get_num_items</code><span class="sig-paren">(</span><em>file_group</em>, <em>basename=''</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.get_num_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of object with the given basename at the given path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_group</strong> &#8211; The h5py object to be examined</li>
<li><strong>basename</strong> &#8211; The name that should be searched for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Number of objects with the given basename at the given path</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.get_omsi_object">
<em class="property">classmethod </em><code class="descname">get_omsi_object</code><span class="sig-paren">(</span><em>h5py_object</em>, <em>resolve_dependencies=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.get_omsi_object" title="Permalink to this definition">¶</a></dt>
<dd><p>This static method is convenience function used to retrieve the corresponding interface class for a
given h5py group object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>h5py_object</strong> &#8211; h5py object for which the corresponding omsi_file API object should be generated.
This may also be a string describing the requested object based on a combination of the
path to the file and a path ot the object &lt;filename.h5&gt;:&lt;object_path&gt;</li>
<li><strong>resolve_dependencies</strong> &#8211; Set to True if omsi_file_dependencydata objects should be resolved to retrieve
the dependent object the dependency is pointing to. Dependencies are resolved recursively,
i.e., if a dependency points to another dependency then that one will be resolved as well.
Default value is False, i.e., the omis_file_dependency object itself is returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>None in case no corresponding object was found. Otherwise an instance of:</p>
<ul class="simple">
<li>omsi_file : If the given object is a h5py.File object</li>
<li>omsi_file_experiment : If the given object is an experiment groupt</li>
<li>omsi_file_methods : If the given object is a method group</li>
<li>omsi_file_instrument : If the given object is an instrument group</li>
<li>omsi_file_analysis : If the given object is an analysis group</li>
<li>omsi_file_msidata : If the given object is a MSI data group</li>
<li>omsi_file_dependencydata : If the fiven object is a dependency group</li>
<li>The input h5py_object: If the given object is a h5py.Dataset or h5py.Group</li>
<li>None: In case that an unknown type is given.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.get_timestamp">
<code class="descname">get_timestamp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the timestamp when the analysis group was created in the HDF5 file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Python timestamp string generated using time.ctime().
None may be returned in case that the timestamp does not exists
or cannot be retrieved from the file for some reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.get_version">
<code class="descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi version for the representation of this object in the HDF5 file</p>
</dd></dl>

<dl class="classmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.is_managed">
<em class="property">classmethod </em><code class="descname">is_managed</code><span class="sig-paren">(</span><em>in_object</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.is_managed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given object is managed by any omsi API class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>in_object</strong> (<em>Any omsi_file API object or h5py.Dataset or h5py.Group or h5py.File object.</em>) &#8211; The object to be checked</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of items associdated with the h5py.Group object managed by this object</p>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.parse_path_string">
<em class="property">static </em><code class="descname">parse_path_string</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.parse_path_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string of the form &lt;filename.h5&gt;:&lt;object_path&gt; retrieve
the name of the file and the object path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> &#8211; The string defining the file and object path.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Tuple with the filename and the object path. Both may
be None depending on whether an object_path is given and
whether the path string is valid.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">ValueError in case that an invalid string is given</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_common.same_file">
<em class="property">static </em><code class="descname">same_file</code><span class="sig-paren">(</span><em>filename1</em>, <em>filename2</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_common.same_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether two files are the same.</p>
<p>This function uses the os.path.samefile(...) method to compare files and
falls back to comparing the absolute paths of files if samefile should
fail or cannot be imported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename1</strong> &#8211; The name of the first file</li>
<li><strong>filename2</strong> &#8211; The name of the second file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.common.omsi_file_object_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.common.</code><code class="descname">omsi_file_object_manager</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.common.omsi_file_object_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class used to define manager helper classes  used to manage contained managed objects.
Managed objects are HDF5.Groups (or Datasets) with a corresponding manager API class
and may be nested within other Managed objects.</p>
<p><strong>What is a manager helper class?</strong></p>
<p>Manager classes are used in the design of <cite>omsi.dataformat.omsi_file</cite> to encapsulate
functionality needed for management of other manager objects. The expected use
of this class, hence, is through multiple inheritance where the main base
class is <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>. This is important
due to the use of super to accomodate multiple inheritance to allow object
to manage an arbitrary number of other object and inherit from other object as well.</p>
<p><strong>Use of super()</strong></p>
<p>This class inherits only from object but calls super in the __init__(manager_group)
with the manager_group as only input parameter, in the expectation that this
class is used using multiple inheritance with <cite>omsi_file_common</cite> as main base class .</p>
<p>Multiple inheritance is used in <cite>omsi.dataformat.omsi_file module</cite> when a class contains
other managed objects and uses the manager classes (such as this one)
to get all the features needed to manage those objects.</p>
<p>All child classes of omsi_file_common call super(..).__init__(manager_group)
and all manager helper classes (such as this one) use a single input parameter
indicating the manager h5py.Group object that contains the given object.</p>
</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.main_file">
<span id="main-file-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">main_file</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.main_file" title="Permalink to this headline">¶</a></h2>
<p>Module for managing OpenMSI HDF5 data files.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.main_file.</code><code class="descname">omsi_file</code><span class="sig-paren">(</span><em>filename</em>, <em>mode='a'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager" title="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.experiment.omsi_experiment_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>API for creating and managing a single OpenMSI data file.</p>
<p><strong>Use of supe()r</strong></p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite> .
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the <cite>__init__</cite> function calls
<cite>super(...).__init__(manager_group)</cite> with a single  parameter indicating the
parent group.</p>
<p><strong>Inherited Instance Variables</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>managed_group</strong> &#8211; The group that is managed by this object</li>
<li><strong>name</strong> &#8211; Name of the managed group</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Open the given file or create it if does not exit.</p>
<p>The creation of the object may fail  if the file does not exist, and
the selected mode is &#8216;r&#8217; or &#8216;r+&#8217;.</p>
<p>Keyword arguments:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; string indicating the name+path of the OpenMSI data file. Alternatively
this may also be an h5py.File instance (or an h5py.Group, h5py.Dataset
instance from which we can get the file)</li>
<li><strong>mode</strong> &#8211; <p>read/write mode. One of :</p>
<p>r = readonly, file must exist.</p>
<p>r+ = read/write, file must exist.</p>
<p>w = Create file, truncate if exists.</p>
<p>w- = create file, fail if exists.</p>
<p>a = read/write if exists, create otherwise (default)</p>
</li>
<li><strong>**kargs</strong> &#8211; <p>Other keyword arguments to be used for opening the file using h5py.
See the h5py.File documentation for details. For example to use parallel HDF5,
the following additional parameters can be given driver=&#8217;mpio&#8217;, comm:MPI.COMM_WORLD.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file.close_file">
<code class="descname">close_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file.close_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the msi data file</p>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all I/O</p>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file.get_filename">
<code class="descname">get_filename</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file.get_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the omsi file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String indicating the filename (possibly including the full path,
depending on how the object has been initalized)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file.get_h5py_file">
<code class="descname">get_h5py_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file.get_h5py_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the h5py object for the omsi file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py redernce to the HDF5 file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file.is_valid_dataset">
<em class="property">classmethod </em><code class="descname">is_valid_dataset</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file.is_valid_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform basic checks for the given filename, whether it is a valid OMSI file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; Name of the file to be checked.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether the file is valid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.main_file.omsi_file.write_xdmf_header">
<code class="descname">write_xdmf_header</code><span class="sig-paren">(</span><em>xdmf_filename</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.main_file.omsi_file.write_xdmf_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Write XDMF header file for the current HDF5 datafile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xdmf_filename</strong> &#8211; The name of the xdmf XML header file to be created for the HDF5 file.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.experiment">
<span id="experiment-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">experiment</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.experiment" title="Permalink to this headline">¶</a></h2>
<p>OMSI file module for management of experiment data.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.experiment.</code><code class="descname">omsi_experiment_manager</code><span class="sig-paren">(</span><em>experiment_parent</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_object_manager" title="omsi.dataformat.omsi_file.common.omsi_file_object_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_object_manager</span></code></a></p>
<p>Experiment manager helper class used to define common functionality needed for
experiment-related data. Usually, a class that defines a format that contains an
omsi_file_experiment object will inherit from this class (in addition to omsi_file_common)
to acquire the common features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>experiment_parent</strong> &#8211; The h5py.Group parent object containing the instrument object to be managed.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.create_experiment">
<code class="descname">create_experiment</code><span class="sig-paren">(</span><em>exp_identifier=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.create_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new group in the file for a new experiment and return the omsi_file_experiment
object for the new experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>exp_identifier</strong> (<em>string or None (default)</em>) &#8211; The string used to identify the analysis</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed so that
all data has been written to file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">omsi_file_experiment object for the newly created group for the experiment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_experiment">
<code class="descname">get_experiment</code><span class="sig-paren">(</span><em>exp_index</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi_format_experiment object for the experiment with the given index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_index</strong> (<em>uint</em>) &#8211; The index of the requested experiment</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">h5py reference to the experiment with the given index. Returns None in case                   the experiment does not exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_experiment_by_identifier">
<code class="descname">get_experiment_by_identifier</code><span class="sig-paren">(</span><em>exp_identifier_string</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_experiment_by_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi_format_experiment object for the experiment with the given identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_identifier_string</strong> (<em>string</em>) &#8211; The string used to identify the analysis</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns h5py object of the experiment group or None in case the experiment is not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_experiment_path">
<em class="property">static </em><code class="descname">get_experiment_path</code><span class="sig-paren">(</span><em>exp_index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_experiment_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the index of the experiment return the full path to the hdf5
group containing the data for an experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_index</strong> &#8211; The index of the experiment.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">String indicating the path to the experiment.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_num_experiments">
<code class="descname">get_num_experiments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_experiment_manager.get_num_experiments" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of experiments in this file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Integer indicating the number of experiments.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_file_experiment">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.experiment.</code><code class="descname">omsi_file_experiment</code><span class="sig-paren">(</span><em>exp_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_file_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.methods.omsi_methods_manager" title="omsi.dataformat.omsi_file.methods.omsi_methods_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.methods.omsi_methods_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.instrument.omsi_instrument_manager" title="omsi.dataformat.omsi_file.instrument.omsi_instrument_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.instrument.omsi_instrument_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager" title="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.analysis.omsi_analysis_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager" title="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.msidata.omsi_msidata_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>Class for managing experiment specific data</p>
<p><strong>Use of super():</strong></p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>.
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the __init__ function calls
super(...).__init__(manager_group) with a single  parameter indicating the
parent group.</p>
<p><strong>Inherited instance variable:</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>managed_group</strong> &#8211; The group that is managed by this object</li>
<li><strong>methods_parent</strong> &#8211; The parent group containing the methods object (same as managed_group)</li>
<li><strong>instrument_parent</strong> &#8211; The parent group containing the instrument object (same as managed_group)</li>
<li><strong>name</strong> &#8211; Name of the managed group</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initalize the experiment object given the h5py object of the experiment group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_group</strong> &#8211; The h5py object with the experiment group of the omsi hdf5 file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_experiment_identifier">
<code class="descname">get_experiment_identifier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_experiment_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the HDF5 dataset with the identifier description for the experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object of the experiment identifier or None in case not present</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_experiment_index">
<code class="descname">get_experiment_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_experiment_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the index of the experiment based on the name of the group
:return: Integer index of the experiment</p>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_instrument_info">
<code class="descname">get_instrument_info</code><span class="sig-paren">(</span><em>check_parent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_instrument_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from omsi_instrument_manager parent class. Overwritten here to change the default
parameter setting for check_parent. See <cite>omsi.dataformat.omsi_file.instrument.omsi_instrument_manager</cite>
for details.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_method_info">
<code class="descname">get_method_info</code><span class="sig-paren">(</span><em>check_parent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_file_experiment.get_method_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from omsi_method_manager parent class. Overwritten here to change the default
parameter setting for check_parent. See <cite>omsi.dataformat.omsi_file.methods.omsi_method_manager</cite>
for details</p>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.experiment.omsi_file_experiment.set_experiment_identifier">
<code class="descname">set_experiment_identifier</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.experiment.omsi_file_experiment.set_experiment_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite the current identfier string for the experiment with the given string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> &#8211; The new experiment identifier string.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.metadata_collection">
<span id="metadata-collection-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">metadata_collection</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.metadata_collection" title="Permalink to this headline">¶</a></h2>
<p>Module for management of general metadata storage entities. These are often specialized
&#8212;e.g., omsi_file_instrument, omsi_file_sample&#8212;to store specific metadata and add
more functionality.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.metadata_collection.</code><code class="descname">omsi_file_metadata_collection</code><span class="sig-paren">(</span><em>metadata_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>Class for managing method specific data.</p>
<p><strong>Use of super():</strong></p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>.
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the __init__ function calls
super(...).__init__(manager_group) with a single  parameter indicating the
parent group.</p>
<p><strong>Inherited Instance Variables</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>managed_group</strong> &#8211; The group that is managed by this object</li>
<li><strong>name</strong> &#8211; Name of the managed group</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initialize the metadata collection object given the h5py object of the metadata collection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata_group</strong> &#8211; The h5py object with the metadata collection group of the omsi hdf5 file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.add_metadata">
<code class="descname">add_metadata</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.add_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new metadata entry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> &#8211; Instance of <cite>omsi.shared.metadata_data.metadata_value</cite> or
describing <cite>omsi.shared.metadata_data.metadata_dict</cite> with the
metadata to be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><em>key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dict with the full description of the metadata for the given key or all
metadata if no key is given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>omsi.shared.metadata_data.metadata_value</cite> object if a key is given
or a <cite>omsi.shared.metadata_data.metadata_dict</cite> with all metadata
if no key is specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">KeyError is raised in case that the specified key does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all metadata keys</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of string with the metadata keys</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function returning a list of all metadata objects.
This is equivilant get_metadata(key=None).values(), however, for consistency with
other dict-like interfaces this function returns a list of
<cite>omsi.shared.metadata_data.metadata_value</cite> objects rather than
the <cite>omsi.shared.metadata_data.metadata_dict</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of <cite>omsi.shared.metadata_data.metadata_value</cite> with all metadata</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.metadata_collection.</code><code class="descname">omsi_metadata_collection_manager</code><span class="sig-paren">(</span><em>metadata_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_object_manager" title="omsi.dataformat.omsi_file.common.omsi_file_object_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_object_manager</span></code></a></p>
<p>This is a file format manager helper class
used to define common functionality needed for management of metadata-related data.
Usually, a class that defines a format that contains an omsi_file_metadata object
will inherit from this class (in addition to omsi_file_common) to acquire the common
features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>metadata_parent</strong> &#8211; The parent h5py.Group object containing the method object to be managed</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.create_metadata_collection">
<code class="descname">create_metadata_collection</code><span class="sig-paren">(</span><em>group_name=None</em>, <em>metadata=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.create_metadata_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new group for managing metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group_name</strong> (<em>str, None</em>) &#8211; Optional name of the new metadata group. If None is given
then the omsi_format_metadata_collection.metadata_collection_groupname_default will be used</li>
<li><strong>metadata</strong> (<em>None, omsi.shared.metadata_data.metadata_value, omsi_shared.metadata_data.metadata_dict</em>) &#8211; Additional metadata to be added to the collection after creation</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 buffers are
flushed so that all data has been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>omsi_file_metadata_collection</cite> object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.get_default_metadata_collection">
<code class="descname">get_default_metadata_collection</code><span class="sig-paren">(</span><em>omsi_object=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.get_default_metadata_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the default metadata collection object if it exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>omsi_object</strong> &#8211; The omsi file API object or h5py.Group object that we should check.
If set to None (default) then the self.metadata_parent will be used</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None, omsi_file_metadata_collection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.get_metadata_collections">
<code class="descname">get_metadata_collections</code><span class="sig-paren">(</span><em>omsi_object=None</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.get_metadata_collections" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all metadata_collections defined for given OpenMSI file API object or h5py.Group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>omsi_object</strong> &#8211; The omsi file API object or h5py.Group object that we should check.
If set to None (default) then the self.metadata_parent will be use</li>
<li><strong>name</strong> &#8211; If name is specified, then only retrieve collections with the given name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of omsi_file_metadata_collection objects for the requested group. The function
returns None in case that the h5py.Group for the omsi_object could not be determined.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.has_default_metadata_collection">
<code class="descname">has_default_metadata_collection</code><span class="sig-paren">(</span><em>omsi_object</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.has_default_metadata_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the omsi API object (or h5py.Group) contains any a metadata collection with
the default name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.has_metadata_collections">
<code class="descname">has_metadata_collections</code><span class="sig-paren">(</span><em>omsi_object=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager.has_metadata_collections" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given omsi API object (or h5py.Group) contains any metadata collections</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>omsi_object</strong> &#8211; The omsi file API object or h5py.Group object that we should check.
If set to None (default) then the self.metadata_parent will be used</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether metadata collections were found</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.instrument">
<span id="instrument-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">instrument</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.instrument" title="Permalink to this headline">¶</a></h2>
<p>Module for managing instrument related data in OMSI files.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_file_instrument">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.instrument.</code><code class="descname">omsi_file_instrument</code><span class="sig-paren">(</span><em>instrument_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_file_instrument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection" title="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection</span></code></a></p>
<p>Class for managing instrument specific data</p>
<p><strong>Use of super():</strong></p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>.
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the __init__ function calls
super(...).__init__(manager_group) with a single  parameter indicating the
parent group.</p>
<p><strong>Inherited Instance Variables</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>managed_group</strong> &#8211; The group that is managed by this object</li>
<li><strong>name</strong> &#8211; Name of the managed group</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initalize the instrument object given the h5py object of the instrument group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>instrument_group</strong> &#8211; The h5py object with the instrument group of the omsi hdf5 file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_file_instrument.get_instrument_mz">
<code class="descname">get_instrument_mz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_file_instrument.get_instrument_mz" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the HDF5 dataset with the mz data for the instrument.</p>
<p>To get the numpy array of the full mz data use:
get_instrument_mz()[:]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Returns the h5py object with the instrument mz data.
Returns None in case no mz data was found for the instrument.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_file_instrument.get_instrument_name">
<code class="descname">get_instrument_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_file_instrument.get_instrument_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the HDF5 dataset with the name of the instrument.</p>
<p>To get the string of the instrument name use:
get_instrument_name()[...]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object to the dataset with the instrument name.
Returns None in case no method name is found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_file_instrument.has_instrument_name">
<code class="descname">has_instrument_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_file_instrument.has_instrument_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a name has been saved for the instrument</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_file_instrument.set_instrument_name">
<code class="descname">set_instrument_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_file_instrument.set_instrument_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite the current identifier string for the experiment with the given string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>string.</em>) &#8211; The new instrument name.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_instrument_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.instrument.</code><code class="descname">omsi_instrument_manager</code><span class="sig-paren">(</span><em>instrument_parent</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_instrument_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager" title="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager</span></code></a></p>
<p>Instrument manager helper class
used to define common functionality needed for instrument-related data.
Usually, a class that defines a format that contains an omsi_file_methods object
will inherit from this class (in addition to omsi_file_common) to acquire the common
features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>instrument_parent</strong> &#8211; The h5py.Group parent object containing the instrument object to be managed.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_instrument_manager.create_instrument_info">
<code class="descname">create_instrument_info</code><span class="sig-paren">(</span><em>instrument_name=None</em>, <em>mzdata=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_instrument_manager.create_instrument_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Add information about the instrument used for creating the images for this experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>instrument_name</strong> (<em>string, None</em>) &#8211; The name of the instrument</li>
<li><strong>mzdata</strong> (<em>numpy array or None</em>) &#8211; Numpy array of the mz data values of the instrument</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed so that all
data has been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The function returns the h5py HDF5 handler to the instrument info group created for the experiment.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_instrument_manager.get_instrument_info">
<code class="descname">get_instrument_info</code><span class="sig-paren">(</span><em>check_parent=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_instrument_manager.get_instrument_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the HDF5 group opbject with the instrument information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check_parent</strong> &#8211; If no method group is available for this dataset should we check
whether the parent object (i.e., the experiment group containing the dataset)
has information about the method. (default=True)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">omsi_file_instrument object for the requested instrument info. The function returns                    None in case no instrument information was found for the experiment</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.instrument.omsi_instrument_manager.has_instrument_info">
<code class="descname">has_instrument_info</code><span class="sig-paren">(</span><em>check_parent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.instrument.omsi_instrument_manager.has_instrument_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether custom instrument information is available for this dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check_parent</strong> &#8211; If no instrument group is available for this dataset should we check
whether the parent object (i.e., the experiment group containing the dataset)
has information about the instrument. (default=False)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether instrument info is available.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.methods">
<span id="methods-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">methods</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.methods" title="Permalink to this headline">¶</a></h2>
<p>Module for management of method specific data in OMSI data files</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.methods.omsi_file_methods">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.methods.</code><code class="descname">omsi_file_methods</code><span class="sig-paren">(</span><em>method_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_file_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection" title="omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.metadata_collection.omsi_file_metadata_collection</span></code></a></p>
<p>Class for managing method specific data.</p>
<p><strong>Use of super():</strong></p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>.
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the __init__ function calls
super(...).__init__(manager_group) with a single  parameter indicating the
parent group.</p>
<p><strong>Inherited Instance Variables</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>managed_group</strong> &#8211; The group that is managed by this object</li>
<li><strong>name</strong> &#8211; Name of the managed group</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initialize the method object given the h5py object of the method group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method_group</strong> &#8211; The h5py object with the method group of the omsi hdf5 file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.methods.omsi_file_methods.get_method_name">
<code class="descname">get_method_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_file_methods.get_method_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the HDF5 dataset with the name of the method.</p>
<p>To retrieve the name string use get_method_name()[...]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object where the method name is stored.
Returns None in case no method name is found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.methods.omsi_file_methods.has_method_name">
<code class="descname">has_method_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_file_methods.has_method_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether an object has a method name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.methods.omsi_file_methods.set_method_name">
<code class="descname">set_method_name</code><span class="sig-paren">(</span><em>name_string</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_file_methods.set_method_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite the name string for the method with the given name string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name_string</strong> (<em>string</em>) &#8211; The new method name.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.methods.omsi_methods_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.methods.</code><code class="descname">omsi_methods_manager</code><span class="sig-paren">(</span><em>methods_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_methods_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager" title="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager</span></code></a></p>
<p>This is a file format manager helper class
used to define common functionality needed for methods-related data.
Usually, a class that defines a format that contains an omsi_file_methods object
will inherit from this class (in addition to omsi_file_common) to acquire the common
features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>method_parent</strong> &#8211; The parent h5py.Group object containing the method object to be managed</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.methods.omsi_methods_manager.create_method_info">
<code class="descname">create_method_info</code><span class="sig-paren">(</span><em>method_name=None</em>, <em>metadata=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_methods_manager.create_method_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Add information about the method imaged to the experiment.
Note, if a methods group already exists, then that group
will be used. If method_name is not None, then the existing
name will be overwritten by the new value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method_name</strong> (<em>str, None</em>) &#8211; Optional name of the method</li>
<li><strong>metadata</strong> (<em>metadata_value, metadata_dict</em>) &#8211; Additional metadata to be stored with the methods</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 buffers are
flushed so that all data has been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">h5py object of the newly created method group.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.methods.omsi_methods_manager.get_method_info">
<code class="descname">get_method_info</code><span class="sig-paren">(</span><em>check_parent=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_methods_manager.get_method_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi_file_methods object with the method information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check_parent</strong> &#8211; If no method group is available for this dataset should we check
whether the parent object (i.e., the experiment group containing the dataset)
has information about the method. (default=True)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">omsi_file_methods object for the requested method info. The function returns
None in case no method information was found for the experiment</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.methods.omsi_methods_manager.has_method_info">
<code class="descname">has_method_info</code><span class="sig-paren">(</span><em>check_parent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.methods.omsi_methods_manager.has_method_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether custom method information is available for this dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check_parent</strong> &#8211; If no method group is available for this dataset should we check
whether the parent object (i.e., the experiment group containing the dataset)
has information about the method. (default=False)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean indicating whether method info is available.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.msidata">
<span id="msidata-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">msidata</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.msidata" title="Permalink to this headline">¶</a></h2>
<p>Module for managing MSI data in OMSI data files</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.msidata.</code><code class="descname">omsi_file_msidata</code><span class="sig-paren">(</span><em>data_group</em>, <em>fill_space=True</em>, <em>fill_spectra=True</em>, <em>preload_mz=False</em>, <em>preload_xy_index=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager" title="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.methods.omsi_methods_manager" title="omsi.dataformat.omsi_file.methods.omsi_methods_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.methods.omsi_methods_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.instrument.omsi_instrument_manager" title="omsi.dataformat.omsi_file.instrument.omsi_instrument_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.instrument.omsi_instrument_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager" title="omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.metadata_collection.omsi_metadata_collection_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>Interface for interacting with mass spectrometry imaging datasets stored in omis HDF5 files.
The interface allows users to interact with the data as if it where a 3D cube even if data
is missing. Full spectra may be missing in cases where only a region of interest in space
has been imaged. Spectra may further be pre-processed so that each spectrum has only information
about its peaks so that each spectrum has it&#8217;s own mz-axis.</p>
<p>To load data ue standard array syntax, e.g., [1,1,:] can be used to retrieve the spectrums at
location (1,1).</p>
<p><strong>Use of super():</strong></p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>.
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the __init__ function calls
super(...).__init__(manager_group) with a single  parameter indicating the
parent group.</p>
<p><strong>Current limitations:</strong></p>
<ul class="simple">
<li>The estimates in def __best_dataset__(self,keys) are fairly crude at this point</li>
<li>The __getitem__ function for the partial_spectra case is not implemented yet.</li>
<li>The __setitem__ function for the partial spectra case is not implemented yet (Note, it       should also support dynamic expansion of the cube by adding previously missing spectra).</li>
<li>For the partial cube case, assignement using __setitem__ function is only supported to       valid spectra, i.e., spectra that were specified as occupied during the intital creation process.</li>
</ul>
<p><strong>Public object variables:</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>shape</strong> &#8211; Define the full 3D shape of the dataset (i.e., even if the data is stored in sparse manner)</li>
<li><strong>dtype</strong> &#8211; The numpy datatyp of the main MSI data. This is the same as dataset.dtype</li>
<li><strong>name</strong> &#8211; The name of the corresponding groupt in the HDF5 file. Used to generate hard-links to the group.</li>
<li><strong>format_type</strong> &#8211; Define according to which standard the data is stored in the file</li>
<li><strong>datasets</strong> &#8211; List of h5py objects containing possibly multiple different version of the same MSI data                     (spectra). There may be multiple versions stored with different layouts in order to                     optimize the selection process.</li>
<li><strong>mz</strong> &#8211; dataset with the global mz axis information. If prelaod_mz is set in the constructor, then this               is a numpy dataset with the preloaded data. Otherwise, this is the h5py dataset pointing to               the data on disk.</li>
<li><strong>xy_index</strong> &#8211; None if format_type is &#8216;full_cube&#8217;. Otherwise, this is the 2D array indicating for                     each x/y location the index of the spectrum in dataset. If prelaod_xy_index is set                     in the constructor, then this is a numpy dataset with the preloaded data. Otherwise,                     this is the h5py dataset pointing to the data on disk. Negative (-1) entries indicate                     that no spectrum has been recored for the given pixel.</li>
<li><strong>inv_xy_index</strong> &#8211; 2D dataset with n rows and 2 columns indicating for each spectrum i the (x,y)                          pixel index the spectrum belongs to. This index is stored for convenience purposes but                          is not actually needed for data access.</li>
<li><strong>mz_index</strong> &#8211; None if format_type is not &#8216;partial_spectra&#8217;. Otherwise this is a dataset of the same size                     as the spectra data stored in dataset. Each entry indicates an index into the mz dataset                     to determine the mz_data value for a spectrum. This means mz[ mx_index ] gives the true                     mz value.</li>
<li><strong>xy_index_end</strong> &#8211; None if format_type is not &#8216;partial_spectra&#8217;. Otherwise this is a 2D array indicating                    for each x/y location the index where the given spectrum ends in the dataset. If                    prelaod_xy_index is set in the constructor, then this is a numpy dataset with the                    preloaded data. Otherwise, this is the h5py dataset pointing to the data on disk.                    Negative (-1) entries indicate that no spectrum has been recored for the given pixel.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Private object variables:</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>_data_group</strong> &#8211; Store the pointer to the HDF5 group with all the data</li>
<li><strong>_fill_xy</strong> &#8211; Define whether the data should be reconstructed as a full image cube Set using the                     set_fill_space function(..)</li>
<li><strong>_fill_mz</strong> &#8211; Define whether spectra should be remapped onto a global m/z axis. Set using the                     set_fill_spectra function(..)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initialize the omsi_msidata object.</p>
<p>The fill options are provided to enable a more convenient access to the data independent of how the
data is stored in the file. If the fill options are enabled, then the user can interact with the
data as if it where a 3D cube while missing is data is filled in by the given fill value.</p>
<p>The prelaod options provided here refer to generally smaller parts of the data for which it may be
more efficient to load the data and keep it around rather than doing repeated reads. If the object is
used only for a single read and destroyed afterwards, then disabling the preload options may give a
slight advantage but in most cases enabling the preload should be Ok (default).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_group</strong> &#8211; The h5py object for the group with the omsi_msidata.</li>
<li><strong>fill_space</strong> &#8211; Define whether the data should be padded in space (filled with 0&#8217;s) when
accessing the data using [..] operator so that the data behaves like a 3D cube.</li>
<li><strong>fill_spectra</strong> &#8211; Define whether the spectra should completed by adding 0&#8217;s so that all
spectra retrieved via the [..] operator so that always spectra of the full
length are returned. This option is provided to ease extension of the class
to cases where only partial spectra are stored in the file but is not used at this point.</li>
<li><strong>preload_mz</strong> &#8211; Should the data for the mz axis be kept in memory or loaded on the fly when needed.</li>
<li><strong>preload_xy_index</strong> &#8211; Should the xy index (if available) be preloaderd into memory or should the
required data be loaded on the fly when needed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata.copy_dataset">
<code class="descname">copy_dataset</code><span class="sig-paren">(</span><em>source</em>, <em>destination</em>, <em>print_status=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata.copy_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function used to copy a source msi dataset one chunk at a time to the destination dataset.
The data copy is done one destination chunk at a time to achieve chunk-aligned write.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> &#8211; The source h5py dataset</li>
<li><strong>destination</strong> &#8211; The h5py desitnation h5py dataset.</li>
<li><strong>print_status</strong> &#8211; Should the function print the status of the conversion process to the command line?</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata.create_optimized_chunking">
<code class="descname">create_optimized_chunking</code><span class="sig-paren">(</span><em>chunks=None</em>, <em>compression=None</em>, <em>compression_opts=None</em>, <em>copy_data=True</em>, <em>print_status=False</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata.create_optimized_chunking" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to allow one to create optimized copies of the dataset with different internal data
layouts to speed up selections. The function expects that the original data has already been written
to the data group. The function takes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chunks</strong> &#8211; Specify whether chunking should be used (True,False), or specify the chunk sizes
to be used explicitly.</li>
<li><strong>compression</strong> &#8211; h5py compression option. Compression strategy.  Legal values are &#8216;gzip&#8217;, &#8216;szip&#8217;,  &#8216;lzf&#8217;.
Can also use an integer in range(10) indicating gzip.</li>
<li><strong>compression_opts</strong> &#8211; h5py compression settings.  This is an integer for gzip, 2-tuple for szip, etc..
For gzip (H5 deflate filter) this is the aggression paramter. The agression parameter is
a number between zero and nine (inclusive) to indicate the tradeoff between speed
and compression ratio (zero is fastest, nine is best ratio).</li>
<li><strong>copy_data</strong> &#8211; Should the MSI data be copied by this function to the new dataset or not. If False, then
it is up to the user of the function to copy the appropriate data into the returned h5py
dataset (not recommended but may be useful for performance optimization).</li>
<li><strong>print_status</strong> &#8211; Should the function print the status of the conversion process to the command line?</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed so that all data has
been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">h5py dataset with the new copy of the data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata.get_h5py_datasets">
<code class="descname">get_h5py_datasets</code><span class="sig-paren">(</span><em>index=0</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata.get_h5py_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the h5py dataset object for the given dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> &#8211; The index of the dataset.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">h5py object for the requested dataset.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">and Index error is generated in case an invalid index is given.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata.get_h5py_mzdata">
<code class="descname">get_h5py_mzdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata.get_h5py_mzdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the h5py object for the mz datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object of the requested mz dataset.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata.set_fill_space">
<code class="descname">set_fill_space</code><span class="sig-paren">(</span><em>fill_space</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata.set_fill_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Define whether spatial selection should be filled with 0&#8217;s to retrieve full image slices</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fill_space</strong> &#8211; Boolean indicating whether images should be filled with 0&#8217;s</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_file_msidata.set_fill_spectra">
<code class="descname">set_fill_spectra</code><span class="sig-paren">(</span><em>fill_spectra</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_file_msidata.set_fill_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Define whether spectra should be filled with 0&#8217;s to map them to the global mz axis when retrieved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fill_spectra</strong> &#8211; Define whether m/z values should be filled with 0&#8217;s.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.msidata.</code><code class="descname">omsi_msidata_manager</code><span class="sig-paren">(</span><em>msidata_parent</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_object_manager" title="omsi.dataformat.omsi_file.common.omsi_file_object_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_object_manager</span></code></a></p>
<p>MSI-data  manager helper class used to define common functionality needed for
msidata-related data. Usually, a class that defines a format that contains an
omsi_file_msidata object will inherit from this class (in addition to omsi_file_common)
to acquire the common features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>msidata_parent</strong> &#8211; The h5py.Group parent object containing the instrument object to be managed.</td>
</tr>
</tbody>
</table>
<p>Initatize the manger object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msidata_parent</strong> &#8211; The h5py.Group parent object for the msi data.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.create_msidata_full_cube">
<code class="descname">create_msidata_full_cube</code><span class="sig-paren">(</span><em>data_shape</em>, <em>data_type='f'</em>, <em>mzdata_type='f'</em>, <em>chunks=None</em>, <em>compression=None</em>, <em>compression_opts=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.create_msidata_full_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new mass spectrometry imaging dataset for the given experiment written as a full 3D cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_shape</strong> &#8211; Shape of the dataset. Eg. shape=(10,10,10) creates a 3D dataset with
10 entries per dimension</li>
<li><strong>data_type</strong> &#8211; numpy style datatype to be used for the dataset.</li>
<li><strong>mzdata_type</strong> &#8211; numpy style datatype to be used for the mz data array.</li>
<li><strong>chunks</strong> &#8211; Specify whether chunkning should be used (True,False), or specify the chunk
sizes to be used in x,y, and m/z explicitly.</li>
<li><strong>compression</strong> &#8211; h5py compression option. Compression strategy.  Legal values are &#8216;gzip&#8217;, &#8216;szip&#8217;,  &#8216;lzf&#8217;.
Can also use an integer in range(10) indicating gzip.</li>
<li><strong>compression_opts</strong> &#8211; h5py compression settings.  This is an integer for gzip, 2-tuple for szip, etc..
For gzip (H5 deflate filter) this is the aggression paramter. The agression parameter is
a number between zero and nine (inclusive) to indicate the tradeoff between speed
and compression ratio (zero is fastest, nine is best ratio).</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed so that all data has
been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>The following two empty (but approbriately sized) h5py datasets are returned in order</dt>
<dd><p class="first last">to be filled with data:</p>
</dd>
</dl>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data_dataset</span></code> : Primary h5py dataset for the MSI data with shape data_shape and dtype data_type.</li>
<li><code class="docutils literal"><span class="pre">mz_dataset</span></code> : h5py dataset for the mz axis data with shape [data_shape[2]] and dtype mzdata_type.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">data_group</span></code> : The h5py object with the group in the HDF5 file where the data should be stored.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.create_msidata_partial_cube">
<code class="descname">create_msidata_partial_cube</code><span class="sig-paren">(</span><em>data_shape</em>, <em>mask</em>, <em>data_type='f'</em>, <em>mzdata_type='f'</em>, <em>chunks=None</em>, <em>compression=None</em>, <em>compression_opts=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.create_msidata_partial_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new mass spectrometry imaging dataset for the given experiment written as a partial 3D cube
of complete spectra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_shape</strong> &#8211; Shape of the dataset. Eg. shape=(10,10,10) creates a 3D dataset with
10 entries per dimension</li>
<li><strong>mask</strong> &#8211; 2D boolean NumPy array used as mask to indicate which (x,y) locations have
spectra associated with them.</li>
<li><strong>data_type</strong> &#8211; numpy style datatype to be used for the dataset.</li>
<li><strong>mzdata_type</strong> &#8211; numpy style datatype to be used for the mz data array.</li>
<li><strong>chunks</strong> &#8211; Specify whether chunkning should be used (True,False), or specify the chunk sizes
to be used in x,y, and m/z explicitly.</li>
<li><strong>compression</strong> &#8211; h5py compression option. Compression strategy.  Legal values are &#8216;gzip&#8217;, &#8216;szip&#8217;,  &#8216;lzf&#8217;.
Can also use an integer in range(10) indicating gzip.</li>
<li><strong>compression_opts</strong> &#8211; h5py compression settings.  This is an integer for gzip, 2-tuple for szip, etc..
For gzip (H5 deflate filter) this is the aggression paramter. The agression parameter is
a number between zero and nine (inclusive) to indicate the tradeoff between speed
and compression ratio (zero is fastest, nine is best ratio).</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed so that all data has
been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>The following two empty (but approbriately sized) h5py datasets are returned in order to</dt>
<dd><p class="first last">be filled with data:</p>
</dd>
</dl>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data_dataset</span></code> : Primary h5py dataset for the MSI data with shape data_shape and dtype data_type.</li>
<li><code class="docutils literal"><span class="pre">mz_dataset</span></code> : h5py dataset for the mz axis data with shape [data_shape[2]] and dtype mzdata_type.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>The following already complete dataset</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">xy_index_dataset</span></code> : This dataset indicates for each xy location to which index in                                      <code class="docutils literal"><span class="pre">data_dataset</span></code> the location corresponds to. This dataset is                                      needed to identify where spectra need to be written to.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">data_group</span></code> : The h5py object with the group in the HDF5 file where the data should be stored.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.create_msidata_partial_spectra">
<code class="descname">create_msidata_partial_spectra</code><span class="sig-paren">(</span><em>spectra_length</em>, <em>len_global_mz</em>, <em>data_type='f'</em>, <em>mzdata_type='f'</em>, <em>chunks=None</em>, <em>compression=None</em>, <em>compression_opts=None</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.create_msidata_partial_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new mass spectrometry imaging dataset for the given experiment written as a partial 3D
cube of partial spectra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>spectra_length</strong> &#8211; 2D boolean NumPy array used indicating for each (x,y) locations the length
of the corresponding partial spectrum.</li>
<li><strong>len_global_mz</strong> &#8211; The total number of m/z values in the global m/z axis for the full 3D cube</li>
<li><strong>data_type</strong> &#8211; The dtype for the MSI dataset</li>
<li><strong>mzdata_type</strong> &#8211; The dtype for the mz dataset</li>
<li><strong>mzdata_type</strong> &#8211; numpy style datatype to be used for the mz data array.</li>
<li><strong>chunks</strong> &#8211; Specify whether chunkning should be used (True,False), or specify the chunk sizes to
be used in x,y, and m/z explicitly.</li>
<li><strong>compression</strong> &#8211; h5py compression option. Compression strategy.  Legal values are &#8216;gzip&#8217;, &#8216;szip&#8217;,  &#8216;lzf&#8217;.
Can also use an integer in range(10) indicating gzip.</li>
<li><strong>compression_opts</strong> &#8211; h5py compression settings.  This is an integer for gzip, 2-tuple for szip, etc..
For gzip (H5 deflate filter) this is the aggression paramter. The agression parameter is
a number between zero and nine (inclusive) to indicate the tradeoff between speed
and compression ratio (zero is fastest, nine is best ratio).</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed so that all data
has been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>The following two empty (but approbriatelu sized) h5py datasets are returned in order to be
filled with data:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data_dataset</span></code> : The primary h5py dataset for the MSI data with shape data_shape and dtype data_type.</li>
<li><code class="docutils literal"><span class="pre">mz_index_dataset</span></code> : h5py dataset with the mz_index values</li>
<li><code class="docutils literal"><span class="pre">mz_dataset</span></code> : h5py dataset for the mz axis data with shape [data_shape[2]] and dtype mzdata_type.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>The following already complete dataset</p>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">xy_index_dataset</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">This dataset indicates for each xy location at which index in <code class="docutils literal"><span class="pre">data_dataset</span></code></span></dt>
<dd><p class="first last">the corresponding spectrum starts. This dataset is needed to identify where spectra
need to be written to.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">xy_index_end_dataset</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">This dataset indicates for each xy location at which index in</span></dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">data_dataset</span></code> the corresponding spectrum ends (exclusing the given value).
This dataset is needed to identify where spectra need to be written to.</p>
</dd>
</dl>
</li>
</ul>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">data_group</span></code> : The h5py object with the group in the HDF5 file where the data should be stored.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.get_msidata">
<code class="descname">get_msidata</code><span class="sig-paren">(</span><em>data_index</em>, <em>fill_space=True</em>, <em>fill_spectra=True</em>, <em>preload_mz=True</em>, <em>preload_xy_index=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.get_msidata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dataset with the given index for the given experiment.</p>
<p>For more detailed information about the use of the fill_space and fill_spectra and preload_mz and
preload_xy_index options, see the init function of omsi.dataformat.omsi_file_msidata.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_index</strong> (<em>unsigned int</em>) &#8211; Index of the dataset.</li>
<li><strong>fill_space</strong> &#8211; Define whether the data should be padded in space (filled with 0&#8217;s)
when accessing the data using [..] operator so that the data behaves like a 3D cube.</li>
<li><strong>fill_spectra</strong> &#8211; Define whether the spectra should completed by adding 0&#8217;s so that
all spectra retrived via the [..] opeator so that always spectra of the full
length are returned.</li>
<li><strong>preload_mz</strong> &#8211; Should the data for the mz axis be kept in memory or loaded on the fly when needed.</li>
<li><strong>preload_xy_index</strong> &#8211; Should the xy index (if available) be preloaderd into memory or should the
required data be loaded on the fly when needed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">omsi_file_msidata object for the given data_index or None in case the data
with given index does not exist or the access failed for any
other reason.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.get_msidata_by_name">
<code class="descname">get_msidata_by_name</code><span class="sig-paren">(</span><em>data_name</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.get_msidata_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the h5py data object for the the msidata with the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_name</strong> (<em>string</em>) &#8211; The name of the dataset</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">h5py object of the dataset or None in case the dataset is not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.get_num_msidata">
<code class="descname">get_num_msidata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.msidata.omsi_msidata_manager.get_num_msidata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of raw mass spectrometry images stored for a given experiment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Integer indicating the number of msi datasets available for the experiment.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.analysis">
<span id="analysis-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">analysis</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.analysis" title="Permalink to this headline">¶</a></h2>
<p>Module for managing custom analysis data in OMSI HDF5 files.</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.analysis.</code><code class="descname">omsi_analysis_manager</code><span class="sig-paren">(</span><em>analysis_parent</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_object_manager" title="omsi.dataformat.omsi_file.common.omsi_file_object_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_object_manager</span></code></a></p>
<p>Analysis manager helper class used to define common functionality needed for analysis-related data.
Usually, a class that defines a format that contains an omsi_file_analysis object
will inherit from this class (in addition to omsi_file_common) to acquire the common
features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>analysis_parent</strong> &#8211; The h5py.Group parent object containing the instrument object to be managed.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.create_analysis">
<code class="descname">create_analysis</code><span class="sig-paren">(</span><em>analysis</em>, <em>flush_io=True</em>, <em>force_save=False</em>, <em>save_unsaved_dependencies=True</em>, <em>mpi_root=0</em>, <em>mpi_comm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.create_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new group for storing derived analysis results for the current experiment</p>
<p>Create the analysis group using omsi_file_analysis.__create___ which in turn uses
omsi_file_analysis.__populate_analysis__(...) to populate the group with the appropriate data.</p>
<p>NOTE: Dependencies are generally resolved to point to file objects. However, if save_unsaved_dependencies
is set to False and a given in-memory dependency has not been saved yet, then the value associated with
that dependency will be saved instead as part of the parameters and, hence, only the value of the
dependency is persevered in that case and not the full dependency chain.</p>
<p>NOTE: Dependencies if they only exists in memory are typically saved recursively unless
save_unsaved_dependencies is set to False. I.e, calling create_analysis may result in the
creating of multiple other dependent analyses if they have not been saved before.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>analysis</strong> (<em>omsi.analysis.analysis_base:</em>) &#8211; Instance of omsi.analysis.analysis_base defining the analysis</li>
<li><strong>flush_io</strong> (<em>bool</em>) &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed
so that all data has been written to file</li>
<li><strong>force_save</strong> (<em>bool</em>) &#8211; Should we save the analysis even if it has been saved in the same location before?
If force_save is False (default) and the self.omsi_analysis_storage parameter of the analysis object
contains a matching storage location&#8212;i.e., same file and experiment&#8212;, then the analysis will
not be saved again, but the object will only be retrieved from file.
If force_save is True, then the analysis will be saved either way and the self.omsi_analysis_storage
parameter will be extended.</li>
<li><strong>save_unsaved_dependencies</strong> (<em>bool</em>) &#8211; If there are unsaved (in-memory) dependencies, then should those be
saved to file as well? Default value is True, i.e, by default all in-memory dependencies that have
not been saved yet, i.e, for which the self.omsi_analysis_storage of the corresponding <a href="#id3"><span class="problematic" id="id4">omsi_analysis_</span></a>
base object is empty, are saved as well. If in-memory dependencies have been saved before, then a
link to those dependencies will be established, rather than re-saving the dependency.</li>
<li><strong>mpi_root</strong> &#8211; The root MPI process that should perform the writing. This is to allow all analyses
to call the function and have communication in the analysis.write_analysis_data function be
handled.</li>
<li><strong>mpi_comm</strong> &#8211; The MPI communicator to be used. None if default should be used (ie., MPI.COMM_WORLD</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The omsi_file_analysis object for the newly created analysis group and the
integer index of the analysis. NOTE: if force_save is False (default), then the group
returned may not be new but may be simply the first entry in the list of existing
storage locations for the given analysis. NOTE: If we are in MPI parallel and we are on a
core that does not write any data, then None is returned instead.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.create_analysis_static">
<em class="property">static </em><code class="descname">create_analysis_static</code><span class="sig-paren">(</span><em>analysis_parent</em>, <em>analysis</em>, <em>flush_io=True</em>, <em>force_save=False</em>, <em>save_unsaved_dependencies=True</em>, <em>mpi_root=0</em>, <em>mpi_comm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.create_analysis_static" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as create_analysis(...) but instead of relying on object-level, this function
allows additional parameters (specifically the analysis_parent) to be provided as
input, rather than being determined based on self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>analysis_parent</strong> &#8211; The h5py.Group object or omsi.dataformat.omsi_file.common.omsi_file_common object
where the analysis should be created</li>
<li><strong>kwargs</strong> &#8211; Additional keyword arguments for create_analysis(...). See create_analysis(...) for details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The output of create_analysis</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_analysis">
<code class="descname">get_analysis</code><span class="sig-paren">(</span><em>analysis_index</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi_format_analysis analysis object for the experiment with
the given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>analysis_index</strong> (<em>Unsigned integer</em>) &#8211; The index of the analysis</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">omsi_file_analysis object for the requested analysis. The function
returns None in case the analysis object was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_analysis_by_identifier">
<code class="descname">get_analysis_by_identifier</code><span class="sig-paren">(</span><em>analysis_identifier_string</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_analysis_by_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi_format_analysis analysis object for the the analysis with the given identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>analysis_identifier_string</strong> (<em>string</em>) &#8211; The string used as identifier for the analysis.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">h5py obejct of the analysis or None in case the analysis is not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_analysis_identifiers">
<code class="descname">get_analysis_identifiers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_analysis_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all identifiers for all analysis stored for the experiment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of strings of analysis identifiers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_num_analysis">
<code class="descname">get_num_analysis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_analysis_manager.get_num_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of raw mass spectrometry images stored for a given experiment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Integer indicating the number of analyses available for the experiment.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.analysis.</code><code class="descname">omsi_file_analysis</code><span class="sig-paren">(</span><em>analysis_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager" title="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager</span></code></a>, <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>Class for managing analysis specific data in omsi hdf5 files</p>
<p>Initialize the analysis object given the h5py object of the analysis group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>analysis_group</strong> &#8211; The h5py object with the analysis group of the omsi hdf5 file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_all_analysis_data">
<code class="descname">get_all_analysis_data</code><span class="sig-paren">(</span><em>load_data=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_all_analysis_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all analysis data associated with the analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>load_data</strong> &#8211; load_data: Should the data be loaded or just the h5py objects be
stored in the dictionary.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of analysis_data objects with the names and h5py or numpy objects.
Access using [index][&#8216;name&#8217;] and [index][&#8216;data&#8217;].</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_all_parameter_data">
<code class="descname">get_all_parameter_data</code><span class="sig-paren">(</span><em>load_data=False</em>, <em>exclude_dependencies=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_all_parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all parameter data associated with the analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>load_data</strong> &#8211; Should the data be loaded or just the h5py objects be stored in the dictionary.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of parameter_data objects with names and h5py or numpy object. Access using
[index][&#8216;name&#8217;] and [index][&#8216;data&#8217;].</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_all_runinfo_data">
<code class="descname">get_all_runinfo_data</code><span class="sig-paren">(</span><em>load_data=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_all_runinfo_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dict of all runtime information stored in the file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">omsi.shared.run_info_data.run_info_dict type python dict with the runtime information restored.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_data_names">
<code class="descname">get_analysis_data_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns all dataset names (and groups) that are custom
to the analysis, i.e., that are not part of the omsi file standard.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of analysis-specific dataset names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_data_shapes_and_types">
<code class="descname">get_analysis_data_shapes_and_types</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_data_shapes_and_types" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns two dictionaries with all dataset names (and groups)
that are custom to the analysis, i.e., that are not part of the omsi
file standard, and idenifies the shape of the analysis data objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictonary indicating for each analysis-specific dataset its name (key) and
shape (value). And a second dictionariy indicating the name (key) and dtype
of the dataset.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_identifier">
<code class="descname">get_analysis_identifier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the identifier name of the analysis.</p>
<p>Use get_analysis_identifier()[...] to retrive the identifier string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object for the dataset with the identifier string.
Returns None, in case no identifer exisits. This should
not be the case for a valid OpenMSI file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_index">
<code class="descname">get_analysis_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the name of the group, get the index of the analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Integer index of the analysis in the file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_type">
<code class="descname">get_analysis_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.get_analysis_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type for the analysis.</p>
<p>Use get_analysis_type()[...] tor retrieve the type string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">h5py object with the dataset of the analysis string. Returns,
None in case no analysis type exists. This should not be the
case in a valid omsi file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.recreate_analysis">
<code class="descname">recreate_analysis</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.recreate_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an analysis from file and re-execute it.
This is equivalent to omsi_analysis.base.restore_analysis().execute()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> &#8211; Additional keyword arguments to be passed to the execute function of the analysis</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Instance of the specific analysis object (e.g, omsi_nmf) that inherits from
omsi.analysis.analysis_base with the input parameters and
dependencies restored from file. The output, however, is the result from
re-executing the analysis. None is returned in case the analysis object
cannot be created.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.analysis.omsi_file_analysis.restore_analysis">
<code class="descname">restore_analysis</code><span class="sig-paren">(</span><em>load_data=True</em>, <em>load_parameters=True</em>, <em>load_runtime_data=True</em>, <em>dependencies_omsi_format=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.analysis.omsi_file_analysis.restore_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an analysis from file and create an instance of the appropriate
analysis object defined by the analysis type (i.e., a derived class
of <cite>omsi.analysis. analysis_base</cite>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>load_data</strong> &#8211; Should the analysis data be loaded from file (default) or just stored as h5py data objects</li>
<li><strong>load_parameters</strong> &#8211; Should parameters be loaded from file (default) or just stored as h5py data objects.</li>
<li><strong>load_runtime_data</strong> &#8211; Should runtime data be loaded from file (default) or just stored as h5py data objects.</li>
<li><strong>dependencies_omsi_format</strong> &#8211; Should dependencies be loaded as omsi_file API objects (default)
or just as h5py objects.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Instance of the specific analysis object (e.g, omsi_nmf) that inherits from
omsi.analysis.analysis_base with the input parameters, output result,
and dependencies restored. We can call execute(..) on the returned object
to rerun an analysis. May return analysis_generic in case that the
specific analysis is not known.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-omsi.dataformat.omsi_file.dependencies">
<span id="dependencies-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">dependencies</span></code> Module<a class="headerlink" href="#module-omsi.dataformat.omsi_file.dependencies" title="Permalink to this headline">¶</a></h2>
<p>Base module for managing of dependencies between data in OpenMSI HDF5 files</p>
<dl class="class">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.dependencies.</code><code class="descname">omsi_dependencies_manager</code><span class="sig-paren">(</span><em>dependencies_parent</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_object_manager" title="omsi.dataformat.omsi_file.common.omsi_file_object_manager"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_object_manager</span></code></a></p>
<p>Dependencies manager helper class
used to define common functionality needed for managing dependencies.
Usually, a class that defines a format that contains an omsi_file_dependencies object
will inherit from this class (in addition to omsi_file_common) to acquire the common
features.</p>
<p>For more details see: <cite>omsi.dataforamt.omsi_file.omsi_common.omsi_file_object_manager</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first simple">
<li><strong>dependencies_parent</strong> &#8211; h5py.Group object containing the dependencies object(s) to be managed</li>
<li><a class="reference internal" href="#module-omsi.dataformat.omsi_file.dependencies" title="omsi.dataformat.omsi_file.dependencies"><strong>dependencies</strong></a> &#8211; omsi_file_dependencies object managed by this object or None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first last"><strong>dependencies_parent</strong> &#8211; Parent group containing the dependencies object to be managed</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.add_dependency">
<code class="descname">add_dependency</code><span class="sig-paren">(</span><em>dependency</em>, <em>flush_io=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.add_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new dependency for this dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dependency</strong> &#8211; omsi.shared.dependency_dict object describing the data dependency</li>
<li><strong>flush_io</strong> &#8211; Call flush on the HDF5 file to ensure all HDF5 bufferes are flushed
so that all data has been written to file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">omsi_file_dependencydata object with the dependency data or None in case that
an error occurred and the dependency has not been generated.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.create_dependencies">
<code class="descname">create_dependencies</code><span class="sig-paren">(</span><em>dependencies_data_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.create_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a managed group for storing data dependencies if none exists and store
the given set of dependencies in it. If a self.dependencies object already
exists, then the given dependencies will be added.</p>
<p>This is effectively a shortcut to omsi_file_dependencies.__create___(...) with specific
settings for the current dependencies object managed by self.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dependencies_data_list</strong> &#8211; List of dependency_dict objects to be stored as dependencies.
Default is None which is mapped to an empty list []</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">omsi_file_dependencies object created by the function.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.get_all_dependency_data">
<code class="descname">get_all_dependency_data</code><span class="sig-paren">(</span><em>omsi_dependency_format=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.get_all_dependency_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all direct dependencies associated with the data object.</p>
<p>This is convenience function providing access to
self.dependencies.get_all_dependency_data(...) which is a function
of omsi_file_dependencies class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>omsi_dependency_format</strong> &#8211; Should the dependencies be retrieved as omsi_analysis_dependency object (True)
or as an omsi_file_dependencydata object (False).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List dependency_dict objects containing either omsi file API objects or h5py objects for the
dependencies. Access using [index][&#8216;name&#8217;] and [index][&#8216;data&#8217;].</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.get_all_dependency_data_graph">
<code class="descname">get_all_dependency_data_graph</code><span class="sig-paren">(</span><em>include_omsi_dependency=False</em>, <em>include_omsi_file_dependencydata=False</em>, <em>recursive=True</em>, <em>level=0</em>, <em>name_key='name'</em>, <em>prev_nodes=None</em>, <em>prev_links=None</em>, <em>parent_index=None</em>, <em>metadata_generator=None</em>, <em>metadata_generator_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.get_all_dependency_data_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all direct and indirect dependencies associated with the analysis in form of a graph describing
all nodes and links in the provenance hierarchy.</p>
<p>This is convenience function providing access to
self.dependencies.get_all_dependency_data_graph(...) which is a function
of omsi_file_dependencies class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>include_omsi_dependency</strong> &#8211; Should the dependency_dict object be included in the entries
in the nodes dict?</li>
<li><strong>include_omsi_file_dependencydata</strong> &#8211; Should the omsi_file_dependencydata object be included in
the entries in the nodes dict?</li>
<li><strong>recursive</strong> &#8211; Should we trace dependencies recursively to construct the full graph, or only the
direct dependencies. Default true (ie., trace recursively)</li>
<li><strong>name_key</strong> &#8211; Which key should be used in the dicts to indicate the name of the object?
Default value is &#8216;name&#8217;</li>
<li><strong>level</strong> &#8211; Integer used to indicated the recursion level. Default value is 0.</li>
<li><strong>prev_nodes</strong> &#8211; List of nodes that have been previously generated. Note, this list will be
modified by the call. Note, each node is represented by a dict which is expected to
have at least the following keys defined, path, name_key, level (name_key refers to the key
defined by the input parameter name_key.</li>
<li><strong>prev_links</strong> &#8211; Previouly established links in the list of nodes. Note, this list will be
modified by the call.</li>
<li><strong>parent_index</strong> &#8211; Index of the parent node in the list of prev_nodes for this call.</li>
<li><strong>metadata_generator</strong> &#8211; <p>Optional parameter. Pass in a function that generates additional metadata
about a given omsi API object. Note, the key&#8217;s level and path and name (i.e., name_key) are
already set by this function. The metadata_generator may overwrite these key&#8217;s, however,
the path has to be unique as it is used to identify duplicate nodes. Overwriting the path
with a non-unique value, hence, will lead to errors (missing entries) when generating the graph.
Note, the metadata_generator function needs to support the following keyword arguments:</p>
<blockquote>
<div><ul>
<li>inDict : The dictionary to which the metadata should be added to.</li>
<li>obj : The omsi file API object for which metadata should be generated</li>
<li>name : A qualifying name for the object</li>
<li>name_key : The key to be used for storing the name</li>
</ul>
</div></blockquote>
</li>
<li><strong>metadata_generator_kwargs</strong> &#8211; Dictionary of additional keyword arguments that should be passed to
the metadata_generator function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>Dictionary containing two lists. 1) nodes <span class="classifier-delimiter">:</span> <span class="classifier">List of dictionaries, describing the elements</span></dt>
<dd><p class="first last">in the dependency graph. 2) links : List of tuples with the links in the graph. Each
tuple consists of two integer indices for the nodes list. For each node the following
entries are given:</p>
</dd>
</dl>
<ul>
<li><dl class="first docutils">
<dt>dependency_dict: Optional key used to store the corresponding dependency_dict object.</dt>
<dd><p class="first last">Used only of include_omsi_dependency is True.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>omsi_file_dependencydata: Optional key used to store the corresponding</dt>
<dd><p class="first last">omsi_file_dependencydata object. Used only of include_omsi_file_dependencydata is True.</p>
</dd>
</dl>
</li>
<li><p class="first">name : Name of the dependency. The actual key is sepecified by name_key</p>
</li>
<li><p class="first">level : The recursion level at which the object occurs.</p>
</li>
<li><p class="first">... : Any other key/value pairs from the dependency_dict dict.</p>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.get_all_dependency_data_recursive">
<code class="descname">get_all_dependency_data_recursive</code><span class="sig-paren">(</span><em>omsi_dependency_format=True</em>, <em>omsi_main_parent=None</em>, <em>dependency_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.get_all_dependency_data_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all direct and indirect dependencies associated with the data object.</p>
<p>This is convenience function providing access to
self.dependencies.get_all_dependency_data_recursive(...) which is a function
of omsi_file_dependencies class.</p>
<p><strong>NOTE:</strong> omsi_main_parent and omsi_main_parent are used primarily to ensure that the
case of circular dependencies are supported properly. Circular dependencies may
occur in the case of semantic dependencies (rather than pure use dependencies), e.g.,
two datasets that are related modalities may reference each other, e.g., MS1 pointing
to related MS2 data and the MS2 datasets referencing the corresponding MS1 datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>omsi_dependency_format</strong> &#8211; Should the dependencies be retrieved as dependency_dict object (True)
or as an omsi_file_dependencydata object (False)</li>
<li><strong>omsi_main_parent</strong> &#8211; The main parent for which the dependencies are calculated. This is needed
to avoid recursion back into the main parent for which we are computing dependencies and avoiding
that it is added itself as a dependency for itself. If set to None, then we will use our own
self.dependencies_parent object</li>
<li><strong>dependency_list</strong> &#8211; List of previously visited/created dependencies. This is needed only
to avoid deep recursion and duplication due to circular dependencies</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List analysis_data objects containing either omsi file API interface objects or h5py
objects for the dependcies. Access using [index][&#8216;name&#8217;] and [index][&#8216;data&#8217;].</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.has_dependencies">
<code class="descname">has_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_dependencies_manager.has_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether any dependencies exists for this datasets</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.dependencies.</code><code class="descname">omsi_file_dependencies</code><span class="sig-paren">(</span><em>dependencies_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>Class for managing collections of dependencies.</p>
<p>** Use of super()**</p>
<p>This class inherits from <cite>omsi.dataformat.omsi_file.common.omsi_file_common</cite>.
Consistent with the design pattern for multiple inheritance of the
<cite>omsi.dataformat.omsi_file</cite> module, the __init__ function calls
super(...).__init__(manager_group) with a single  parameter indicating the
parent group.</p>
<dl class="staticmethod">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies._omsi_file_dependencies__create_dependency_graph_node">
<em class="property">static </em><code class="descname">_omsi_file_dependencies__create_dependency_graph_node</code><span class="sig-paren">(</span><em>level</em>, <em>name</em>, <em>path</em>, <em>dependency_object</em>, <em>omsi_object</em>, <em>include_omsi_dependency=False</em>, <em>include_omsi_file_dependencydata=False</em>, <em>name_key='name'</em>, <em>metadata_generator=None</em>, <em>metadata_generator_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies._omsi_file_dependencies__create_dependency_graph_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal helper function used to create a new node in the graph</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>level</strong> &#8211; The recursion level at which the node exists</li>
<li><strong>name</strong> &#8211; The name of the node</li>
<li><strong>path</strong> &#8211; The path of the node</li>
<li><strong>dependency_object</strong> &#8211; The omsi_file_dependencydata object. May be None in case a node
to a specific object is set</li>
<li><strong>omsi_object</strong> &#8211; The OpenMSI file API object. This is required and may NOT be None.</li>
<li><strong>include_omsi_dependency</strong> &#8211; Should the dependency_dict object be included in the entries
in the nodes dict?</li>
<li><strong>include_omsi_file_dependencydata</strong> &#8211; Should the omsi_file_dependencydata object be included in
the entries in the nodes dict?</li>
<li><strong>name_key</strong> &#8211; Which key should be used in the dicts to indicate the name of the object?
Default value is &#8216;name&#8217;</li>
<li><strong>metadata_generator</strong> &#8211; <p>Optional parameter. Pass in a function that generates additional metadata
about a given omsi API object. Note, the key&#8217;s level and path and name (i.e., name_key) are
already set by this function. The metadata_generator may overwrite these key&#8217;s, however,
the path has to be unique as it is used to identify duplicate nodes. Overwriting the path
with a non-unique value, hence, will lead to errors (missing entries) when generating the graph.
Note, the metadata_generator function needs to support the following keyword arguments:</p>
<blockquote>
<div><ul>
<li>in_dict : The dictionary to which the metadata should be added to.</li>
<li>obj : The omsi file API object for which metadata should be generated</li>
<li>name : A qualifying name for the object</li>
<li>name_key : The key to be used for storing the name</li>
</ul>
</div></blockquote>
</li>
<li><strong>metadata_generator_kwargs</strong> &#8211; Dictionary of additional keyword arguments that should be passed to
the metadata_generator function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Dict describing the new node, containing the &#8216;name&#8217;, &#8216;level&#8217;, and &#8216;path&#8217; and
optionally &#8216;dependency_dict&#8217; and/or &#8216;omsi_file_dependencydata&#8217; and any additional
data generated by the metadata_generator function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.add_dependency">
<code class="descname">add_dependency</code><span class="sig-paren">(</span><em>dependency_data</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.add_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new dependency to the collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dependency_data</strong> (<em>omsi.shared.omsi_dependency_data</em>) &#8211; The analysis dependency specification.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the newly created omsi_file_dependencydata object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">KeyError in case that a dependency with the same name already exists</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_all_dependency_data">
<code class="descname">get_all_dependency_data</code><span class="sig-paren">(</span><em>omsi_dependency_format=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_all_dependency_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all direct dependencies associated with the analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>omsi_dependency_format</strong> &#8211; Should the dependencies be retrieved as omsi_analysis_dependency object
(True) or as an omsi_file_dependencydata object (False).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List dependency_dict objects containing either omsi file API objects or h5py objects for
the dependencies. Access using [index][&#8216;name&#8217;] and [index][&#8216;data&#8217;].</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_all_dependency_data_graph">
<code class="descname">get_all_dependency_data_graph</code><span class="sig-paren">(</span><em>include_omsi_dependency=False</em>, <em>include_omsi_file_dependencydata=False</em>, <em>recursive=True</em>, <em>level=0</em>, <em>name_key='name'</em>, <em>prev_nodes=None</em>, <em>prev_links=None</em>, <em>parent_index=None</em>, <em>metadata_generator=None</em>, <em>metadata_generator_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_all_dependency_data_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all direct and indirect dependencies associated with the analysis in form of a graph describing
all nodes and links in the provenance hierarchy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>include_omsi_dependency</strong> &#8211; Should the dependency_dict object be included in the entries
in the nodes dict?</li>
<li><strong>include_omsi_file_dependencydata</strong> &#8211; Should the omsi_file_dependencydata object be included in
the entries in the nodes dict?</li>
<li><strong>recursive</strong> &#8211; Should we trace dependencies recursively to construct the full graph, or only the
direct dependencies. Default true (ie., trace recursively)</li>
<li><strong>name_key</strong> &#8211; Which key should be used in the dicts to indicate the name of the object?
Default value is &#8216;name&#8217;</li>
<li><strong>level</strong> &#8211; Integer used to indicated the recursion level. Default value is 0.</li>
<li><strong>prev_nodes</strong> &#8211; List of nodes that have been previously generated. Note, this list will be
modified by the call. Note, each node is represented by a dict which is expected to
have at least the following keys defined, path, name_key, level (name_key refers to the key
defined by the input parameter name_key.</li>
<li><strong>prev_links</strong> &#8211; Previously established links in the list of nodes. Note, this list will be
modified by the call.</li>
<li><strong>parent_index</strong> &#8211; Index of the parent node in the list of prev_nodes for this call. May be
None in case the parent we are calling this function for is not yet in the list. If None,
then we will add our own parent that contains the dependencies to the list.</li>
<li><strong>metadata_generator</strong> &#8211; <p>Optional parameter. Pass in a function that generates additional metadata
about a given omsi API object. Note, the key&#8217;s level and path and name (i.e., name_key) are
already set by this function. The metadata_generator may overwrite these key&#8217;s, however,
the path has to be unique as it is used to identify duplicate nodes. Overwriting the path
with a non-unique value, hence, will lead to errors (missing entries) when generating the graph.
Note, the metadata_generator function needs to support the following keyword arguments:</p>
<blockquote>
<div><ul>
<li>in_dict : The dictionary to which the metadata should be added to.</li>
<li>obj : The omsi file API object for which metadata should be generated</li>
<li>name : A qualifying name for the object</li>
<li>name_key : The key to be used for storing the name</li>
</ul>
</div></blockquote>
</li>
<li><strong>metadata_generator_kwargs</strong> &#8211; Dictionary of additional keyword arguments that should be passed to
the metadata_generator function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>Dictionary containing two lists. 1) nodes <span class="classifier-delimiter">:</span> <span class="classifier">List of dictionaries, describing the elements</span></dt>
<dd><p class="first last">in the dependency graph. 2) links : List of tuples with the links in the graph. Each
tuple consists of two integer indices for the nodes list. For each node the following
entries are given:</p>
</dd>
</dl>
<ul>
<li><dl class="first docutils">
<dt>dependency_dict: Optional key used to store the corresponding dependency_dict object.</dt>
<dd><p class="first last">Used only of include_omsi_dependency is True.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>omsi_file_dependencydata: Optional key used to store the corresponding</dt>
<dd><p class="first last">omsi_file_dependencydata object. Used only of include_omsi_file_dependencydata is True.</p>
</dd>
</dl>
</li>
<li><p class="first">name : Name of the dependency. The actual key is sepecified by name_key</p>
</li>
<li><p class="first">level : The recursion level at which the object occurs.</p>
</li>
<li><p class="first">path : The full path to the object</p>
</li>
<li><p class="first">filename : The full path to the file</p>
</li>
<li><p class="first">... : Any other key/value pairs from the dependency_dict dict.</p>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_all_dependency_data_recursive">
<code class="descname">get_all_dependency_data_recursive</code><span class="sig-paren">(</span><em>omsi_dependency_format=True</em>, <em>omsi_main_parent=None</em>, <em>dependency_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_all_dependency_data_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all direct and indirect dependencies associated with the analysis.</p>
<p><strong>NOTE:</strong> omsi_main_parent and omsi_main_parent are used primarily to ensure that the
case of circular dependencies are supported properly. Circular dependencies may
occur in the case of semantic dependencies (rather than pure use dependencies), e.g.,
two datasets that are related modalities may reference each other, e.g., MS1 pointing
to related MS2 data and the MS2 datasets referencing the corresponding MS1 datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>omsi_dependency_format</strong> &#8211; Should the dependencies be retrieved as dependency_dict object (True)
or as an omsi_file_dependencydata object (False)</li>
<li><strong>omsi_main_parent</strong> &#8211; The main parent for which the dependencies are calculated. This is needed
to avoid recursion back into the main parent for which we are computing dependencies and avoiding
that it is added itself as a dependency for itself. If set to None, then we will use the omsi_object
associated with the parent group of the dependency group.</li>
<li><strong>dependency_list</strong> &#8211; List of previously visited/created dependencies. This is needed only
to avoid deep recursion and duplication due to circular dependencies</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List analysis_data objects containing either omsi file API interface objects or
h5py objects for the dependcies. Access using [index][&#8216;name&#8217;] and [index][&#8216;data&#8217;].</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_dependency_omsiobject">
<code class="descname">get_dependency_omsiobject</code><span class="sig-paren">(</span><em>name</em>, <em>recursive=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_dependency_omsiobject" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Get the omsi file API object corresponding to the object the dependency is pointing to.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Name of the dependency opbject to be loaded .</li>
<li><strong>recursive</strong> &#8211; Should the dependency be resolved recursively, i.e., if the dependeny points
to another dependencies. Default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An omsi file API object (e.g., omsi_file_analysis or omsi_file_msidata) if the link points
to a group or the h5py.Dataset the link is pointing to.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_omsi_file_dependencydata">
<code class="descname">get_omsi_file_dependencydata</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencies.get_omsi_file_dependencydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the omsi_file_dependencydata object for the dependency with the given name.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata">
<em class="property">class </em><code class="descclassname">omsi.dataformat.omsi_file.dependencies.</code><code class="descname">omsi_file_dependencydata</code><span class="sig-paren">(</span><em>dependency_group</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#omsi.dataformat.omsi_file.common.omsi_file_common" title="omsi.dataformat.omsi_file.common.omsi_file_common"><code class="xref py py-class docutils literal"><span class="pre">omsi.dataformat.omsi_file.common.omsi_file_common</span></code></a></p>
<p>Class for managing data groups used for storing data dependencies</p>
<p>Create a new omsi_file_dependencydata object for the given h5py.Group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dependency_group</strong> (<em>h5py.Group with a corresponding omsi type</em>) &#8211; h5py.Group object with the dependency data</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dataset_name">
<code class="descname">get_dataset_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the string indicating the name of dataset. This may be empty as it is only used if the
dependency points to an objec within a managed omsi API object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String indicating the name of the optional dataset.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dependency_objecttype">
<code class="descname">get_dependency_objecttype</code><span class="sig-paren">(</span><em>recursive=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dependency_objecttype" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicated the type of the object the dependency is pointing to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>recursive</strong> &#8211; Should dependencies be resolved recursively, i.e., if the dependency points to another
dependencies. Default=True.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">String indicating the class of the omsi file API class that is suited to manage the dependency
link or the name of the corresponding h5py class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dependency_omsiobject">
<code class="descname">get_dependency_omsiobject</code><span class="sig-paren">(</span><em>recursive=True</em>, <em>external_mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dependency_omsiobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the omsi file API object corresponding to the object the dependency is pointing to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>recursive</strong> &#8211; Should dependencies be resolved recursively, i.e., if the dependency points
to another dependencies. Default=True.</li>
<li><strong>external_mode</strong> &#8211; The file open mode (e.g., &#8216;r&#8217;, &#8216;a&#8217;) to be used when we encounter external dependencies,
i.e., dependencies that are stored in external files. By default this is set to None,
indicating that the same mode should be used in which this (i.e,. the current file
describing the dependency) was opened. Allowed modes are &#8216;r&#8217;, &#8216;r+&#8217;, and &#8216;a&#8217;. The modes
&#8216;w&#8217;, &#8216;w+, &#8216;x&#8217; are prohibited to ensure that we do not break external files.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An omsi file API object (e.g., omsi_file_analysis or omsi_file_msidata) if the link
points to a group or the h5py.Dataset the link is pointing to.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dependency_type">
<code class="descname">get_dependency_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_dependency_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the string describing the type of the dependency</p>
<p>NOTE: If the type is missing in the file but we have a parameter name specified,
then the default type &#8216;parameter&#8217; will be returned other None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String indicating the type of the dependency or None if the type is not known.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_link_name">
<code class="descname">get_link_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_link_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the dependency link</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String indicating the name of the dependency link.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_mainname">
<code class="descname">get_mainname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_mainname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the main name string describing the name of the object (and possibly path of the file if external)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String indicating the main name of the object that we link to</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_omsi_dependency">
<code class="descname">get_omsi_dependency</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_omsi_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dependency information as an omsi.shared.dependency_dict object
(as defined in the omsi.shared.dependency_dict module)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dependency_dict object with all the dependency data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_parameter_help">
<code class="descname">get_parameter_help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_parameter_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the help string for the parameter name if available.</p>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_parameter_name">
<code class="descname">get_parameter_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_parameter_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the string indicating the name of the dependend parameter of the analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String of the parameter name that has the dependency.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_selection_string">
<code class="descname">get_selection_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omsi.dataformat.omsi_file.dependencies.omsi_file_dependencydata.get_selection_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String indicating the applied selection. This is an empty string in case no selection was applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Selection string. See the omsi.shared.omsi_data_selection for helper functions to
deal with selection strings.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="omsi.datastructures.html" class="btn btn-neutral float-right" title="datastructures Package">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="omsi.dataformat.html" class="btn btn-neutral" title="dataformat Package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Oliver Rübel and Ben Bowen.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'devel',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>